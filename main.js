(()=>{"use strict";function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var t=function(){function t(e,n,r,o,i,c){var a=e.name,s=e.link,l=e.owner,u=e._id,f=e.likes;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this._title=a,this._src=s,this._likes=f,this._id=u,this._userId=n,this._isOwner=l._id===n,this._openPopupImage=o,this._templateCardDefaultSelector=r,this._handleTrashClick=i,this._handleLikeClick=c,this._settings={cardSelector:".elements__element",likeSelector:".elements__icon",likeNumberSelector:".elements__like-counter",likeActiveClass:"elements__icon_type_active",titleSelector:".elements__title",imgSelector:".elements__image",delBtnSelector:".elements__trash"},this._card=document.querySelector(this._templateCardDefaultSelector).content.querySelector(this._settings.cardSelector).cloneNode(!0),this._titleEl=this._card.querySelector(this._settings.titleSelector),this._imgEl=this._card.querySelector(this._settings.imgSelector),this._likeBtnEl=this._card.querySelector(this._settings.likeSelector),this._likeNumberEl=this._card.querySelector(this._settings.likeNumberSelector),this._delBtnEl=this._card.querySelector(this._settings.delBtnSelector)}var n,r;return n=t,(r=[{key:"createCard",value:function(){return this._generateCard(),this._setEventsListeners(),this._card}},{key:"_generateCard",value:function(){this._titleEl.textContent=this._title,this._imgEl.src=this._src,this._imgEl.alt=this._title,this._likeNumberEl.innerText=this._likes.length,this._isOwner||this._delBtnEl.remove(),this._renderLike(this.likes)}},{key:"_setEventsListeners",value:function(){var e=this;this._likeBtnEl.addEventListener("click",(function(){e._handleLikeClick(e._id,e._isLiked())})),this._delBtnEl.addEventListener("click",(function(){e._handleTrashClick(e)})),this._imgEl.addEventListener("click",(function(){e._openPopupImage(e._title,e._imgSrc)}))}},{key:"_isLiked",value:function(){var e=this;return this._likes.some((function(t){return t._id===e._userId}))}},{key:"_renderLike",value:function(){this._isLiked()?this._likeBtnEl.classList.add(this._settings.likeActiveClass):this._likeBtnEl.classList.remove(this._settings.likeActiveClass),this._likeNumberEl.innerText=this._likes.length}},{key:"setLike",value:function(e){this._likes=e,this._renderLike()}},{key:"deleteCard",value:function(e){e.remove()}}])&&e(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),t}();function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var r=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._validationConfig=t,this._formElement=n,this._inputList=Array.from(this._formElement.querySelectorAll(this._validationConfig.inputSelector)),this._submitButtonSelector=this._formElement.querySelector(this._validationConfig.submitButtonSelector)}var t,r;return t=e,(r=[{key:"_setEventListeners",value:function(){var e=this;this._inputList.forEach((function(t){t.addEventListener("input",(function(){e._isValid(t),e.toggleButtonState()}))}))}},{key:"_isValid",value:function(e){e.validity.valid?this._hideInputError(e):this._showInputError(e)}},{key:"_hideInputError",value:function(e){var t=this._formElement.querySelector(".".concat(e.id,"-error"));e.classList.remove(this._validationConfig.errorClass),t.classList.remove(this._validationConfig.inputErrorClass),t.textContent=""}},{key:"_showInputError",value:function(e){var t=this._formElement.querySelector(".".concat(e.id,"-error")),n=e.validationMessage;e.classList.add(this._validationConfig.errorClass),t.textContent=n,t.classList.add(this._validationConfig.inputErrorClass)}},{key:"toggleButtonState",value:function(){this._inputList.some((function(e){return!e.validity.valid}))?(this._submitButtonSelector.classList.add(this._validationConfig.inactiveButtonClass),this._submitButtonSelector.disabled=!0):(this._submitButtonSelector.classList.remove(this._validationConfig.inactiveButtonClass),this._submitButtonSelector.disabled=!1)}},{key:"clearValidationErrors",value:function(){this._inputList.forEach(this._hideInputError,this),this.toggleButtonState()}},{key:"enableValidation",value:function(){this._formElement.addEventListener("submit",(function(e){e.preventDefault()})),this._setEventListeners()}}])&&n(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i=function(){function e(t){var n,r,o=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),r=function(e){"Escape"===e.key&&o.close()},(n="_handleEscClose")in this?Object.defineProperty(this,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):this[n]=r,this._popup=document.querySelector(t)}var t,n;return t=e,(n=[{key:"open",value:function(){this._popup.classList.add("popup_opened"),document.addEventListener("keyup",this._handleEscClose)}},{key:"close",value:function(){this._popup.classList.remove("popup_opened"),document.removeEventListener("keyup",this._handleEscClose)}},{key:"setEventListeners",value:function(){var e=this;this._popup.addEventListener("mousedown",(function(t){(t.target.classList.contains("popup__cross")||t.target.classList.contains("popup"))&&e.close()}))}}])&&o(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(){return s="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=l(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},s.apply(this,arguments)}function l(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=p(e)););return e}function u(e,t){return u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},u(e,t)}function f(e,t){if(t&&("object"===c(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function p(e){return p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},p(e)}var h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&u(e,t)}(c,e);var t,n,r,o,i=(r=c,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=p(r);if(o){var n=p(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return f(this,e)});function c(e,t,n){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(r=i.call(this,e))._formElement=r._popup.querySelector(".form"),r._inputList=r._popup.querySelectorAll(".form__text"),r._callbackSubmitForm=t,r._callbackOpenForm=n,r._submitButtonElement=r._formElement.querySelector(".form__submit-btn"),r}return t=c,(n=[{key:"_getInputValues",value:function(){var e={};return this._inputList.forEach((function(t){e[t.name]=t.value})),e}},{key:"setEventListeners",value:function(e){var t=this;this._formElement.addEventListener("submit",(function(n){n.preventDefault(),t._submitButtonElement.disabled=!0,t._submitButtonElement.textContent=e,t._callbackSubmitForm(t._getInputValues())})),s(p(c.prototype),"setEventListeners",this).call(this)}},{key:"close",value:function(){this._formElement.reset(),s(p(c.prototype),"close",this).call(this)}},{key:"open",value:function(){this._callbackOpenForm(),s(p(c.prototype),"open",this).call(this)}}])&&a(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),c}(i);function _(e){return _="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_(e)}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(){return y="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=m(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},y.apply(this,arguments)}function m(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=k(e)););return e}function v(e,t){return v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},v(e,t)}function b(e,t){if(t&&("object"===_(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function k(e){return k=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},k(e)}var g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&v(e,t)}(c,e);var t,n,r,o,i=(r=c,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=k(r);if(o){var n=k(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return b(this,e)});function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=i.call(this,e))._popupElement=t._popup.querySelector(".popup__image"),t}return t=c,(n=[{key:"open",value:function(e,t){this._popup.querySelector(".popup__image").src=t,this._popup.querySelector(".popup__image").alt=e,this._popup.querySelector(".popup__image-text").textContent=e,y(k(c.prototype),"open",this).call(this)}}])&&d(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),c}(i);function E(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var S=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._renderer=t,this._section=document.querySelector(n)}var t,n;return t=e,(n=[{key:"renderItems",value:function(e){var t=this;e.forEach((function(e){t._addItem(t._renderer(e))}))}},{key:"renderItem",value:function(e){this._addItem(this._renderer(e))}},{key:"_addItem",value:function(e){this._section.prepend(e)}},{key:"clearSection",value:function(){this._section.innerHTML=""}}])&&E(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function w(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var O=function(){function e(t){var n=t.profileNameSelector,r=t.profileAboutSelector,o=t.profileAvatarSelector;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._profileNameElement=document.querySelector(n),this._profileAboutElemenet=document.querySelector(r),this._profileAvatarElement=document.querySelector(o)}var t,n;return t=e,(n=[{key:"setUserInfo",value:function(e){var t=e.name,n=e.about,r=e.avatar,o=e._id,i=e.cohort;this._name=t,this._about=n,this._avatar=r,this._id=o,this._cohort=i,this._profileNameElement.textContent=this._name,this._profileAboutElemenet.textContent=this._about,this._profileAvatarElement.src=this._avatar}},{key:"getUserInfo",value:function(){return{userName:this._name,userAbout:this._about}}},{key:"getUserId",value:function(){return this._id}}])&&w(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function C(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var P=function(){function e(t){var n=t.token,r=t.cohort,o=t.serverUrl;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._token=n,this._cohort=r,this._serverUrl=o}var t,n;return t=e,(n=[{key:"_getCardsUrl",value:function(){return"".concat(this._serverUrl).concat(this._cohort,"/cards")}},{key:"_getUserInfoUrl",value:function(){return"".concat(this._serverUrl).concat(this._cohort,"/users/me")}},{key:"_getAvatarUrl",value:function(){return"".concat(this._serverUrl).concat(this._cohort,"/users/me/avatar")}},{key:"_handlerPromise",value:function(e){if(e.ok)return e.json();throw e.status}},{key:"getUserInfo",value:function(){return fetch(this._getUserInfoUrl(),{headers:{authorization:this._token}}).then(this._handlerPromise)}},{key:"patchUserInfo",value:function(e,t){return fetch(this._getUserInfoUrl(),{method:"PATCH",headers:{authorization:this._token,"Content-Type":"application/json"},body:JSON.stringify({name:e,about:t})}).then(this._handlerPromise)}},{key:"patchAvatar",value:function(e){return fetch(this._getAvatarUrl(),{method:"PATCH",headers:{authorization:this._token,"Content-Type":"application/json"},body:JSON.stringify({avatar:e})}).then(this._handlerPromise)}},{key:"getInitialCards",value:function(){return fetch(this._getCardsUrl(),{headers:{authorization:this._token}}).then(this._handlerPromise)}},{key:"postCard",value:function(e,t){return fetch(this._getCardsUrl(),{method:"POST",headers:{authorization:this._token,"Content-Type":"application/json"},body:JSON.stringify({name:e,link:t})}).then(this._handlerPromise)}},{key:"delCard",value:function(e){return fetch("".concat(this._getCardsUrl(),"/").concat(e),{method:"DELETE",headers:{authorization:this._token}}).then(this._handlerPromise)}},{key:"putLike",value:function(e){return fetch("".concat(this._getCardsUrl(),"//").concat(e,"/likes"),{method:"PUT",headers:{authorization:this._token}}).then(this._handlerPromise)}},{key:"deleteLike",value:function(e){return fetch("".concat(this._getCardsUrl(),"//").concat(e,"/likes"),{method:"DELETE",headers:{authorization:this._token}}).then(this._handlerPromise)}}])&&C(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function L(e){return L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},L(e)}function j(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function B(){return B="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=I(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},B.apply(this,arguments)}function I(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=T(e)););return e}function q(e,t){return q=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},q(e,t)}function U(e,t){if(t&&("object"===L(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function T(e){return T=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},T(e)}var R=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&q(e,t)}(c,e);var t,n,r,o,i=(r=c,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=T(r);if(o){var n=T(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return U(this,e)});function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=i.call(this,e))._formElement=t._popup.querySelector(".form"),t._submitButtonElement=t._popup.querySelector(".form__submit-btn"),t}return t=c,(n=[{key:"setEventListeners",value:function(e){var t=this;this._formElement.addEventListener("submit",(function(n){n.preventDefault(),t._submitButtonElement.disabled=!0,t._submitButtonElement.textContent=e,t._callbackAccepting()})),B(T(c.prototype),"setEventListeners",this).call(this)}},{key:"setAcceptingCallback",value:function(e){this._callbackAccepting=e}}])&&j(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),c}(i),x={formSelector:".form",inputSelector:".form__text",submitButtonSelector:".form__submit-btn",inactiveButtonClass:"form__submit-btn_type_disabled",inputErrorClass:"form__input-error",errorClass:"form__text_type_error"},A=document.querySelector(".profile__edit-button"),N=document.querySelector(".profile__add-button"),D=document.querySelector(".form__text_type_name"),V=document.querySelector(".form__text_type_profession"),z=document.querySelector(".profile__img-container"),F=document.querySelector(".form-profile"),H=document.querySelector(".form-place"),J=document.querySelector(".form-avatar"),M=new r(x,F);M.enableValidation();var G=new r(x,H);G.enableValidation();var K=new r(x,J);K.enableValidation();var Q=new P({token:"af40a905-9d8d-4025-b8f0-66b0b56f3d46",cohort:"/cohort-52",serverUrl:"https://mesto.nomoreparties.co/v1"}),W=new O({profileNameSelector:".profile__name",profileAboutSelector:".profile__subtitle",profileAvatarSelector:".profile__avatar"});Q.getUserInfo().then((function(e){W.setUserInfo(e)})).then((function(){Q.getInitialCards().then((function(e){ee.renderItems(e.reverse())})).catch((function(e){console.error("Карточки не получены. Код ошибки: ".concat(e))}))})).catch((function(e){console.error("Данные не получены. Код ошибки: ".concat(e,", "))}));var X=new h(".popup_type_new-avatar",(function(e){Q.patchAvatar(e["input-avatar"]).then((function(e){W.setUserInfo(e),X.close()})).catch((function(e){console.error("Аватар не обновлен. Код ошибки: ".concat(e,", "))})).finally((function(){X._submitButtonElement.textContent="Сохранить",X._submitButtonElement.disabled=!1}))}),(function(){K.clearValidationErrors()}));X.setEventListeners("Сохранение..."),z.addEventListener("click",(function(){X.open()}));var Y=new h(".popup_type_profile",(function(e){Q.patchUserInfo(e.name,e.profession).then((function(e){W.setUserInfo(e),Y.close()})).catch((function(e){console.error("Ошибка обновления данных пользователя, код: ".concat(e,", "))})).finally((function(){Y._submitButtonElement.textContent="Сохранить",Y._submitButtonElement.disabled=!1}))}),(function(){var e=W.getUserInfo();D.value=e.userName,V.value=e.userAbout,M.clearValidationErrors()}));Y.setEventListeners("Сохранение..."),A.addEventListener("click",(function(){Y.open()}));var Z=new g(".popup_type_image");Z.setEventListeners();var $=new h(".popup_type_place",(function(e){Q.postCard(e.place,e.link).then((function(e){ee.renderItem(e),$.close()})).catch((function(e){Promise.reject("Ошибка добавления карточки. ".concat(e))})).finally((function(){$._submitButtonElement.textContent="Создать",$._submitButtonElement.disabled=!1}))}),(function(){G.clearValidationErrors()}));$.setEventListeners("Создание..."),N.addEventListener("click",(function(){$.open()}));var ee=new S((function(e){var n=new t(e,W.getUserId(),".card-template_type_default",(function(){Z.open(e.name,e.link)}),(function(e){te.open(),te.setAcceptingCallback((function(){Q.delCard(e._id).then((function(){e.deleteCard(e._card),te.close()})).catch((function(e){Promise.reject("".concat(e," Ошибка удаления карточки."))})).finally((function(){te._submitButtonElement.textContent="Да",te._submitButtonElement.disabled=!1}))}))}),(function(e,t){t?Q.deleteLike(e).then((function(e){n.setLike(e.likes)})).catch((function(e){Promise.reject("".concat(e," Ошибка удаления лайка."))})):Q.putLike(e).then((function(e){n.setLike(e.likes)})).catch((function(e){Promise.reject("".concat(e," Ошибка постановки лайка."))}))}));return n.createCard()}),".elements"),te=new R(".popup_type_delete-card");te.setEventListeners("Удаление...")})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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SnZDLFdBQ0VQLEVBQWVKLEtBQUs1RixFQUFLbEcsS0FBTWtHLEVBQUtqRyxLQUN0QyxJQUNBLFNBQUNnRCxHQUNDeUosR0FBYVosT0FDYlksR0FBYUMsc0JBQ2IsV0FDRS9CLEVBQ0dnQyxRQUFRM0osRUFBSzlDLEtBQ2I4SSxNQUFLLFdBQ0poRyxFQUFLNEosV0FBVzVKLEVBQUsxQixPQUNyQm1MLEdBQWFySCxPQUNmLElBQ0NnRyxPQUFNLFNBQUNDLEdBQ05nQixRQUFRQyxPQUFPLEdBQUQsT0FBSWpCLEVBQUcsOEJBQ3ZCLElBQ0NLLFNBQVEsV0FDUGUsR0FBYTFHLHFCQUFxQjdELFlBQWMsS0FDaER1SyxHQUFhMUcscUJBQXFCbEIsVUFBVyxDQUMvQyxHQUNGLEdBRUosSUFDQSxTQUFDNEUsRUFBUW9ELEdBQ0hBLEVBQ0ZsQyxFQUFJbUMsV0FBV3JELEdBQ2RULE1BQUssU0FBQ2hHLEdBQ0x1SixFQUFRUSxRQUFRL0osRUFBSzdDLE1BQ3ZCLElBQ0NpTCxPQUFNLFNBQUNDLEdBQ05nQixRQUFRQyxPQUFPLEdBQUQsT0FBSWpCLEVBQUcsMkJBQ3ZCLElBRUFWLEVBQUlxQyxRQUFRdkQsR0FDWFQsTUFDQyxTQUFDaEcsR0FDQ3VKLEVBQVFRLFFBQVEvSixFQUFLN0MsTUFDdkIsSUFFRGlMLE9BQU0sU0FBQ0MsR0FDTmdCLFFBQVFDLE9BQU8sR0FBRCxPQUFJakIsRUFBRyw2QkFDdkIsR0FFSixJQUVGLE9BQU9rQixFQUFRVSxZQUNqQixHRHhNOEIsYUMyTXhCUixHQUFlLElBQUkvQyxFRG5NVywyQkNvTXBDK0MsR0FBYWIsa0JBQWtCLGMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL0NhcmQuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvUG9wdXAuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9TZWN0aW9uLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvVXNlckluZm8uanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9BcGkuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Qb3B1cERlbGV0ZUNhcmRBY2NlcHQuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvdXRpbHMvY29uc3RhbnRzLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL3BhZ2VzL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjbGFzcyBDYXJkIHtcclxuICBjb25zdHJ1Y3Rvcih7IG5hbWUsIGxpbmssIG93bmVyLCBfaWQsIGxpa2VzfSwgdXNlcklkLCB0ZW1wbGF0ZUNhcmREZWZhdWx0U2VsZWN0b3IsIG9wZW5Qb3B1cEltYWdlLCBoYW5kbGVUcmFzaENsaWNrLCBoYW5kbGVMaWtlQ2xpY2spIHtcclxuICAgIHRoaXMuX3RpdGxlID0gbmFtZTtcclxuICAgIHRoaXMuX3NyYyA9IGxpbms7XHJcbiAgICB0aGlzLl9saWtlcyA9IGxpa2VzO1xyXG4gICAgdGhpcy5faWQgPSBfaWQ7XHJcbiAgICB0aGlzLl91c2VySWQgPSB1c2VySWQ7XHJcbiAgICB0aGlzLl9pc093bmVyID0gb3duZXIuX2lkID09PSB1c2VySWQgPyB0cnVlIDogZmFsc2U7XHJcbiAgICB0aGlzLl9vcGVuUG9wdXBJbWFnZSA9IG9wZW5Qb3B1cEltYWdlO1xyXG4gICAgdGhpcy5fdGVtcGxhdGVDYXJkRGVmYXVsdFNlbGVjdG9yID0gdGVtcGxhdGVDYXJkRGVmYXVsdFNlbGVjdG9yO1xyXG4gICAgdGhpcy5faGFuZGxlVHJhc2hDbGljayA9IGhhbmRsZVRyYXNoQ2xpY2s7XHJcbiAgICB0aGlzLl9oYW5kbGVMaWtlQ2xpY2sgPSBoYW5kbGVMaWtlQ2xpY2s7XHJcblxyXG4gICAgdGhpcy5fc2V0dGluZ3MgPSB7XHJcbiAgICAgIGNhcmRTZWxlY3RvcjogJy5lbGVtZW50c19fZWxlbWVudCcsXHJcbiAgICAgIGxpa2VTZWxlY3RvcjogJy5lbGVtZW50c19faWNvbicsXHJcbiAgICAgIGxpa2VOdW1iZXJTZWxlY3RvcjogJy5lbGVtZW50c19fbGlrZS1jb3VudGVyJyxcclxuICAgICAgbGlrZUFjdGl2ZUNsYXNzOiAnZWxlbWVudHNfX2ljb25fdHlwZV9hY3RpdmUnLFxyXG4gICAgICB0aXRsZVNlbGVjdG9yOiAnLmVsZW1lbnRzX190aXRsZScsXHJcbiAgICAgIGltZ1NlbGVjdG9yOiAnLmVsZW1lbnRzX19pbWFnZScsXHJcbiAgICAgIGRlbEJ0blNlbGVjdG9yOiAnLmVsZW1lbnRzX190cmFzaCdcclxuICAgIH1cclxuICAgIFxyXG4gICAgdGhpcy5fY2FyZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGhpcy5fdGVtcGxhdGVDYXJkRGVmYXVsdFNlbGVjdG9yKS5jb250ZW50LnF1ZXJ5U2VsZWN0b3IodGhpcy5fc2V0dGluZ3MuY2FyZFNlbGVjdG9yKS5jbG9uZU5vZGUodHJ1ZSk7ICBcclxuICAgIHRoaXMuX3RpdGxlRWwgPSB0aGlzLl9jYXJkLnF1ZXJ5U2VsZWN0b3IodGhpcy5fc2V0dGluZ3MudGl0bGVTZWxlY3Rvcik7XHJcbiAgICB0aGlzLl9pbWdFbCA9IHRoaXMuX2NhcmQucXVlcnlTZWxlY3Rvcih0aGlzLl9zZXR0aW5ncy5pbWdTZWxlY3Rvcik7XHJcbiAgICB0aGlzLl9saWtlQnRuRWwgPSB0aGlzLl9jYXJkLnF1ZXJ5U2VsZWN0b3IodGhpcy5fc2V0dGluZ3MubGlrZVNlbGVjdG9yKTtcclxuICAgIHRoaXMuX2xpa2VOdW1iZXJFbCA9IHRoaXMuX2NhcmQucXVlcnlTZWxlY3Rvcih0aGlzLl9zZXR0aW5ncy5saWtlTnVtYmVyU2VsZWN0b3IpO1xyXG4gICAgdGhpcy5fZGVsQnRuRWwgPSB0aGlzLl9jYXJkLnF1ZXJ5U2VsZWN0b3IodGhpcy5fc2V0dGluZ3MuZGVsQnRuU2VsZWN0b3IpO1xyXG5cclxuICB9XHJcblxyXG5cclxuICBjcmVhdGVDYXJkKCkge1xyXG4gICAgdGhpcy5fZ2VuZXJhdGVDYXJkKCk7XHJcbiAgICB0aGlzLl9zZXRFdmVudHNMaXN0ZW5lcnMoKTtcclxuICAgIHJldHVybiB0aGlzLl9jYXJkO1xyXG4gIH1cclxuXHJcblxyXG4gIF9nZW5lcmF0ZUNhcmQoKSB7XHJcbiAgICB0aGlzLl90aXRsZUVsLnRleHRDb250ZW50ID0gdGhpcy5fdGl0bGU7XHJcbiAgICB0aGlzLl9pbWdFbC5zcmMgPSB0aGlzLl9zcmM7XHJcbiAgICB0aGlzLl9pbWdFbC5hbHQgPSB0aGlzLl90aXRsZTtcclxuICAgIHRoaXMuX2xpa2VOdW1iZXJFbC5pbm5lclRleHQgPSB0aGlzLl9saWtlcy5sZW5ndGg7XHJcbiAgICBpZighdGhpcy5faXNPd25lcikgdGhpcy5fZGVsQnRuRWwucmVtb3ZlKCk7XHJcbiAgICB0aGlzLl9yZW5kZXJMaWtlKHRoaXMubGlrZXMpO1xyXG4gIH1cclxuXHJcbiAgX3NldEV2ZW50c0xpc3RlbmVycygpIHtcclxuICAgIHRoaXMuX2xpa2VCdG5FbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgIHRoaXMuX2hhbmRsZUxpa2VDbGljayh0aGlzLl9pZCwgdGhpcy5faXNMaWtlZCgpKX0pO1xyXG4gICAgdGhpcy5fZGVsQnRuRWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7IHRoaXMuX2hhbmRsZVRyYXNoQ2xpY2sodGhpcykgfSk7XHJcbiAgICB0aGlzLl9pbWdFbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHsgdGhpcy5fb3BlblBvcHVwSW1hZ2UodGhpcy5fdGl0bGUsIHRoaXMuX2ltZ1NyYykgfSk7XHJcbiAgfVxyXG5cclxuXHJcblxyXG4gIF9pc0xpa2VkKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuX2xpa2VzLnNvbWUoZWwgPT4gZWwuX2lkID09PSB0aGlzLl91c2VySWQpO1xyXG4gIH1cclxuXHJcblxyXG5cclxuICBfcmVuZGVyTGlrZSgpIHtcclxuXHJcbiAgICB0aGlzLl9pc0xpa2VkKCkgP1xyXG4gICAgICB0aGlzLl9saWtlQnRuRWwuY2xhc3NMaXN0LmFkZCh0aGlzLl9zZXR0aW5ncy5saWtlQWN0aXZlQ2xhc3MpXHJcbiAgICAgIDogdGhpcy5fbGlrZUJ0bkVsLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fc2V0dGluZ3MubGlrZUFjdGl2ZUNsYXNzKTtcclxuICAgICAgXHJcbiAgICAgIHRoaXMuX2xpa2VOdW1iZXJFbC5pbm5lclRleHQgPSB0aGlzLl9saWtlcy5sZW5ndGg7XHJcbiAgfVxyXG5cclxuICBzZXRMaWtlKGxpa2VzKXtcclxuICAgIHRoaXMuX2xpa2VzID0gbGlrZXNcclxuICAgIHRoaXMuX3JlbmRlckxpa2UoKTtcclxuICB9XHJcblxyXG4gIGRlbGV0ZUNhcmQoY2FyZCl7XHJcbiAgICBjYXJkLnJlbW92ZSgpO1xyXG4gIH1cclxuIFxyXG59XHJcbiIsImV4cG9ydCBjbGFzcyBGb3JtVmFsaWRhdG9yIHtcclxuICBjb25zdHJ1Y3Rvcih2YWxpZGF0aW9uQ29uZmlnLCBmb3JtRWxlbWVudCkge1xyXG4gICAgdGhpcy5fdmFsaWRhdGlvbkNvbmZpZyA9IHZhbGlkYXRpb25Db25maWc7XHJcbiAgICB0aGlzLl9mb3JtRWxlbWVudCA9IGZvcm1FbGVtZW50O1xyXG4gICAgdGhpcy5faW5wdXRMaXN0ID0gQXJyYXkuZnJvbShcclxuICAgICAgdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvckFsbCh0aGlzLl92YWxpZGF0aW9uQ29uZmlnLmlucHV0U2VsZWN0b3IpXHJcbiAgICApO1xyXG4gICAgdGhpcy5fc3VibWl0QnV0dG9uU2VsZWN0b3IgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKFxyXG4gICAgICB0aGlzLl92YWxpZGF0aW9uQ29uZmlnLnN1Ym1pdEJ1dHRvblNlbGVjdG9yXHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgLy8g0JTQvtCx0LDQstC70LXQvdC40LUg0L7QsdGA0LDQsdC+0YLRh9C40LrQvtCyINCy0YHQtdC8INC/0L7Qu9GP0Lwg0YTQvtGA0LzRi1xyXG4gIF9zZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKChpbnB1dEVsZW1lbnQpID0+IHtcclxuICAgICAgaW5wdXRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLCAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5faXNWYWxpZChpbnB1dEVsZW1lbnQpO1xyXG4gICAgICAgIHRoaXMudG9nZ2xlQnV0dG9uU3RhdGUoKTtcclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIC8vINCf0KDQntCS0JXQoNCa0JAg0J3QkCDQktCQ0JvQmNCU0J3QntCh0KLQrFxyXG4gIF9pc1ZhbGlkKGlucHV0RWxlbWVudCkge1xyXG4gICAgaWYgKCFpbnB1dEVsZW1lbnQudmFsaWRpdHkudmFsaWQpIHtcclxuICAgICAgdGhpcy5fc2hvd0lucHV0RXJyb3IoaW5wdXRFbGVtZW50KTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuX2hpZGVJbnB1dEVycm9yKGlucHV0RWxlbWVudCk7XHJcbiAgICB9XHJcbiAgfVxyXG4gIC8vINCj0JHQoNCQ0KLQrCDQodCe0J7QkdCp0JXQndCY0JUg0J7QkSDQntCo0JjQkdCa0JVcclxuICBfaGlkZUlucHV0RXJyb3IoaW5wdXRFbGVtZW50KSB7XHJcbiAgICBjb25zdCBlcnJvckVsZW1lbnQgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKFxyXG4gICAgICBgLiR7aW5wdXRFbGVtZW50LmlkfS1lcnJvcmBcclxuICAgICk7XHJcblxyXG4gICAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fdmFsaWRhdGlvbkNvbmZpZy5lcnJvckNsYXNzKTtcclxuICAgIGVycm9yRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX3ZhbGlkYXRpb25Db25maWcuaW5wdXRFcnJvckNsYXNzKTtcclxuICAgIGVycm9yRWxlbWVudC50ZXh0Q29udGVudCA9IFwiXCI7XHJcbiAgfVxyXG5cclxuICAvLyDQn9Ce0JrQkNCX0JDQotCsINCh0J7QntCR0KnQldCd0JjQlSDQntCRINCe0KjQmNCR0JrQlVxyXG4gIF9zaG93SW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpIHtcclxuICAgIGNvbnN0IGVycm9yRWxlbWVudCA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICAgIGAuJHtpbnB1dEVsZW1lbnQuaWR9LWVycm9yYFxyXG4gICAgKTtcclxuXHJcbiAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSBpbnB1dEVsZW1lbnQudmFsaWRhdGlvbk1lc3NhZ2U7XHJcblxyXG4gICAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5fdmFsaWRhdGlvbkNvbmZpZy5lcnJvckNsYXNzKTtcclxuICAgIGVycm9yRWxlbWVudC50ZXh0Q29udGVudCA9IGVycm9yTWVzc2FnZTtcclxuICAgIGVycm9yRWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX3ZhbGlkYXRpb25Db25maWcuaW5wdXRFcnJvckNsYXNzKTtcclxuICB9XHJcbiAgLy8g0KHQntCh0KLQntCv0J3QmNCVINCa0J3QntCf0JrQmCDQntCi0J/QoNCQ0JLQmtCYINCk0J7QoNCc0KtcclxuICB0b2dnbGVCdXR0b25TdGF0ZSgpIHtcclxuICAgIGlmICh0aGlzLl9pbnB1dExpc3Quc29tZSgoaW5wdXRFbCkgPT4gIWlucHV0RWwudmFsaWRpdHkudmFsaWQpKSB7XHJcbiAgICAgIHRoaXMuX3N1Ym1pdEJ1dHRvblNlbGVjdG9yLmNsYXNzTGlzdC5hZGQoXHJcbiAgICAgICAgdGhpcy5fdmFsaWRhdGlvbkNvbmZpZy5pbmFjdGl2ZUJ1dHRvbkNsYXNzXHJcbiAgICAgICk7XHJcbiAgICAgIHRoaXMuX3N1Ym1pdEJ1dHRvblNlbGVjdG9yLmRpc2FibGVkID0gdHJ1ZTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuX3N1Ym1pdEJ1dHRvblNlbGVjdG9yLmNsYXNzTGlzdC5yZW1vdmUoXHJcbiAgICAgICAgdGhpcy5fdmFsaWRhdGlvbkNvbmZpZy5pbmFjdGl2ZUJ1dHRvbkNsYXNzXHJcbiAgICAgICk7XHJcbiAgICAgIHRoaXMuX3N1Ym1pdEJ1dHRvblNlbGVjdG9yLmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBjbGVhclZhbGlkYXRpb25FcnJvcnMoKSB7XHJcbiAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaCh0aGlzLl9oaWRlSW5wdXRFcnJvciwgdGhpcyk7XHJcbiAgICB0aGlzLnRvZ2dsZUJ1dHRvblN0YXRlKCk7XHJcbiAgfVxyXG5cclxuXHJcbiAgZW5hYmxlVmFsaWRhdGlvbigpIHtcclxuICAgIHRoaXMuX2Zvcm1FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKGV2dCkgPT4ge1xyXG4gICAgICBldnQucHJldmVudERlZmF1bHQoKTtcclxuICAgIH0pO1xyXG4gICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICB9XHJcbn1cclxuIiwiZXhwb3J0IGNsYXNzIFBvcHVwIHtcclxuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKSB7XHJcbiAgICB0aGlzLl9wb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocG9wdXBTZWxlY3Rvcik7XHJcbiAgfVxyXG5cclxuICBfaGFuZGxlRXNjQ2xvc2UgPSAoZXZ0KSA9PiB7XHJcbiAgICBpZiAoZXZ0LmtleSA9PT0gXCJFc2NhcGVcIikge1xyXG4gICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgb3BlbigpIHtcclxuICAgIHRoaXMuX3BvcHVwLmNsYXNzTGlzdC5hZGQoXCJwb3B1cF9vcGVuZWRcIik7XHJcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5dXBcIiwgdGhpcy5faGFuZGxlRXNjQ2xvc2UpO1xyXG4gIH1cclxuXHJcbiAgY2xvc2UoKSB7XHJcbiAgICB0aGlzLl9wb3B1cC5jbGFzc0xpc3QucmVtb3ZlKFwicG9wdXBfb3BlbmVkXCIpO1xyXG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleXVwXCIsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcclxuICB9XHJcblxyXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgdGhpcy5fcG9wdXAuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLCAoZXZ0KSA9PiB7XHJcbiAgICAgIGlmIChcclxuICAgICAgICBldnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhcInBvcHVwX19jcm9zc1wiKSB8fFxyXG4gICAgICAgIGV2dC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKFwicG9wdXBcIilcclxuICAgICAgKSB7XHJcbiAgICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgUG9wdXAgfSBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFBvcHVwV2l0aEZvcm0gZXh0ZW5kcyBQb3B1cCB7XHJcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3RvciwgY2FsbGJhY2tTdWJtaXRGb3JtLCBjYWxsYmFja09wZW5Gb3JtKSB7XHJcbiAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcclxuICAgIHRoaXMuX2Zvcm1FbGVtZW50ID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcihcIi5mb3JtXCIpO1xyXG4gICAgdGhpcy5faW5wdXRMaXN0ID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvckFsbChcIi5mb3JtX190ZXh0XCIpO1xyXG4gICAgdGhpcy5fY2FsbGJhY2tTdWJtaXRGb3JtID0gY2FsbGJhY2tTdWJtaXRGb3JtO1xyXG4gICAgdGhpcy5fY2FsbGJhY2tPcGVuRm9ybSA9IGNhbGxiYWNrT3BlbkZvcm07XHJcbiAgICB0aGlzLl9zdWJtaXRCdXR0b25FbGVtZW50ID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5mb3JtX19zdWJtaXQtYnRuXCIpO1xyXG4gICAgXHJcbiAgfVxyXG5cclxuICBfZ2V0SW5wdXRWYWx1ZXMoKSB7XHJcbiAgICBjb25zdCBkYXRhID0ge307XHJcbiAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaCgoaXRlbSkgPT4ge1xyXG4gICAgICBkYXRhW2l0ZW0ubmFtZV0gPSBpdGVtLnZhbHVlO1xyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gZGF0YTtcclxuICB9XHJcblxyXG4gIHNldEV2ZW50TGlzdGVuZXJzKHRleHRTdHJpbmcpIHtcclxuICAgIHRoaXMuX2Zvcm1FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKGV2dCkgPT4ge1xyXG4gICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICB0aGlzLl9zdWJtaXRCdXR0b25FbGVtZW50LmRpc2FibGVkID0gdHJ1ZTtcclxuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbkVsZW1lbnQudGV4dENvbnRlbnQgPSB0ZXh0U3RyaW5nO1xyXG4gICAgdGhpcy5fY2FsbGJhY2tTdWJtaXRGb3JtKHRoaXMuX2dldElucHV0VmFsdWVzKCkpfSk7XHJcbiAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xyXG4gIFxyXG4gIH1cclxuXHJcbiAgY2xvc2UoKSB7XHJcbiAgICB0aGlzLl9mb3JtRWxlbWVudC5yZXNldCgpO1xyXG4gICAgc3VwZXIuY2xvc2UoKTtcclxuICB9XHJcblxyXG4gIG9wZW4oKSB7XHJcbiAgICB0aGlzLl9jYWxsYmFja09wZW5Gb3JtKCk7XHJcbiAgICBzdXBlci5vcGVuKCk7XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCB7IFBvcHVwIH0gZnJvbSBcIi4vUG9wdXAuanNcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBQb3B1cFdpdGhJbWFnZSBleHRlbmRzIFBvcHVwIHtcclxuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKSB7XHJcbiAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcclxuICAgIHRoaXMuX3BvcHVwRWxlbWVudCA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2ltYWdlXCIpO1xyXG4gIH1cclxuXHJcbiAgb3Blbih0aXRsZSwgc3JjKSB7XHJcbiAgICB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19pbWFnZVwiKS5zcmMgPSBzcmM7XHJcbiAgICB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19pbWFnZVwiKS5hbHQgPSB0aXRsZTtcclxuICAgIHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2ltYWdlLXRleHRcIikudGV4dENvbnRlbnQgPSB0aXRsZTtcclxuXHJcbiAgICBzdXBlci5vcGVuKCk7XHJcbiAgfVxyXG59XHJcbiIsImV4cG9ydCBjbGFzcyBTZWN0aW9uIHtcclxuICBjb25zdHJ1Y3RvcihyZW5kZXJlciwgY29udGFpbmVyU2VsZWN0b3IpIHtcclxuICAgIHRoaXMuX3JlbmRlcmVyID0gcmVuZGVyZXI7XHJcbiAgICB0aGlzLl9zZWN0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihjb250YWluZXJTZWxlY3Rvcik7XHJcbiAgfVxyXG5cclxuICByZW5kZXJJdGVtcyhpdGVtcykge1xyXG4gICAgaXRlbXMuZm9yRWFjaCgoZWxlbWVudCkgPT4ge1xyXG4gICAgICB0aGlzLl9hZGRJdGVtKHRoaXMuX3JlbmRlcmVyKGVsZW1lbnQpKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgcmVuZGVySXRlbShpdGVtKSB7XHJcbiAgICB0aGlzLl9hZGRJdGVtKHRoaXMuX3JlbmRlcmVyKGl0ZW0pKTtcclxuICB9XHJcblxyXG4gIF9hZGRJdGVtKGVsZW1lbnQpIHtcclxuICAgIHRoaXMuX3NlY3Rpb24ucHJlcGVuZChlbGVtZW50KTtcclxuICB9XHJcblxyXG4gIGNsZWFyU2VjdGlvbigpIHtcclxuICAgIHRoaXMuX3NlY3Rpb24uaW5uZXJIVE1MID0gJyc7XHJcbiAgfVxyXG59IiwiZXhwb3J0IGNsYXNzIFVzZXJJbmZvIHtcclxuICBjb25zdHJ1Y3Rvcih7IHByb2ZpbGVOYW1lU2VsZWN0b3IsIHByb2ZpbGVBYm91dFNlbGVjdG9yLCBwcm9maWxlQXZhdGFyU2VsZWN0b3IgfSkge1xyXG4gICAgdGhpcy5fcHJvZmlsZU5hbWVFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihwcm9maWxlTmFtZVNlbGVjdG9yKTtcclxuICAgIHRoaXMuX3Byb2ZpbGVBYm91dEVsZW1lbmV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihwcm9maWxlQWJvdXRTZWxlY3Rvcik7XHJcbiAgICB0aGlzLl9wcm9maWxlQXZhdGFyRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocHJvZmlsZUF2YXRhclNlbGVjdG9yKTtcclxuICAgIFxyXG4gIH1cclxuXHJcbiAgc2V0VXNlckluZm8oeyBuYW1lLCBhYm91dCwgYXZhdGFyLCBfaWQsIGNvaG9ydCB9KSB7XHJcbiAgICB0aGlzLl9uYW1lID0gbmFtZTtcclxuICAgIHRoaXMuX2Fib3V0ID0gYWJvdXQ7XHJcbiAgICB0aGlzLl9hdmF0YXIgPSBhdmF0YXI7XHJcbiAgICB0aGlzLl9pZCA9IF9pZDtcclxuICAgIHRoaXMuX2NvaG9ydCA9IGNvaG9ydDtcclxuXHJcbiAgICB0aGlzLl9wcm9maWxlTmFtZUVsZW1lbnQudGV4dENvbnRlbnQgPSB0aGlzLl9uYW1lO1xyXG4gICAgdGhpcy5fcHJvZmlsZUFib3V0RWxlbWVuZXQudGV4dENvbnRlbnQgPSB0aGlzLl9hYm91dDtcclxuICAgIHRoaXMuX3Byb2ZpbGVBdmF0YXJFbGVtZW50LnNyYyA9IHRoaXMuX2F2YXRhcjtcclxuICB9XHJcblxyXG4gIGdldFVzZXJJbmZvKCkge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgdXNlck5hbWU6IHRoaXMuX25hbWUsXHJcbiAgICAgIHVzZXJBYm91dDogdGhpcy5fYWJvdXQsXHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbiAgZ2V0VXNlcklkKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuX2lkO1xyXG4gIH1cclxufSIsImV4cG9ydCBjbGFzcyBBcGkge1xyXG4gICAgY29uc3RydWN0b3IoeyB0b2tlbiwgY29ob3J0LCBzZXJ2ZXJVcmwgfSkge1xyXG4gICAgICB0aGlzLl90b2tlbiA9IHRva2VuO1xyXG4gICAgICB0aGlzLl9jb2hvcnQgPSBjb2hvcnQ7XHJcbiAgICAgIHRoaXMuX3NlcnZlclVybCA9IHNlcnZlclVybDtcclxuICAgIH1cclxuICAgIFxyXG4gICAgX2dldENhcmRzVXJsKCkge1xyXG4gICAgICByZXR1cm4gYCR7dGhpcy5fc2VydmVyVXJsfSR7dGhpcy5fY29ob3J0fS9jYXJkc2A7XHJcbiAgICB9XHJcbiAgXHJcbiAgICBfZ2V0VXNlckluZm9VcmwoKSB7XHJcbiAgICAgIHJldHVybiBgJHt0aGlzLl9zZXJ2ZXJVcmx9JHt0aGlzLl9jb2hvcnR9L3VzZXJzL21lYDtcclxuICAgIH1cclxuICBcclxuICAgIF9nZXRBdmF0YXJVcmwoKSB7XHJcbiAgICAgIHJldHVybiBgJHt0aGlzLl9zZXJ2ZXJVcmx9JHt0aGlzLl9jb2hvcnR9L3VzZXJzL21lL2F2YXRhcmA7XHJcbiAgICB9XHJcbiAgXHJcbiAgICBfaGFuZGxlclByb21pc2UocmVzKSB7XHJcbiAgICAgIGlmIChyZXMub2spIHJldHVybiByZXMuanNvbigpO1xyXG4gICAgICBlbHNlIHRocm93IHJlcy5zdGF0dXM7XHJcbiAgICB9XHJcbiAgXHJcbiAgICBnZXRVc2VySW5mbygpIHtcclxuICAgICAgcmV0dXJuIGZldGNoKHRoaXMuX2dldFVzZXJJbmZvVXJsKCksIHtcclxuICAgICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgICBhdXRob3JpemF0aW9uOiB0aGlzLl90b2tlbixcclxuICAgICAgICB9LFxyXG4gICAgICB9KS50aGVuKHRoaXMuX2hhbmRsZXJQcm9taXNlKTtcclxuICAgIH1cclxuICBcclxuICAgIHBhdGNoVXNlckluZm8obmFtZSwgYWJvdXQpIHtcclxuICAgICAgcmV0dXJuIGZldGNoKHRoaXMuX2dldFVzZXJJbmZvVXJsKCksIHtcclxuICAgICAgICBtZXRob2Q6IFwiUEFUQ0hcIixcclxuICAgICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgICBhdXRob3JpemF0aW9uOiB0aGlzLl90b2tlbixcclxuICAgICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgICAgbmFtZSxcclxuICAgICAgICAgIGFib3V0LFxyXG4gICAgICAgIH0pLFxyXG4gICAgICB9KS50aGVuKHRoaXMuX2hhbmRsZXJQcm9taXNlKTtcclxuICAgIH1cclxuICBcclxuICAgIHBhdGNoQXZhdGFyKHVybCkge1xyXG4gICAgICByZXR1cm4gZmV0Y2godGhpcy5fZ2V0QXZhdGFyVXJsKCksIHtcclxuICAgICAgICBtZXRob2Q6IFwiUEFUQ0hcIixcclxuICAgICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgICBhdXRob3JpemF0aW9uOiB0aGlzLl90b2tlbixcclxuICAgICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBhdmF0YXI6IHVybCB9KSxcclxuICAgICAgfSkudGhlbih0aGlzLl9oYW5kbGVyUHJvbWlzZSk7XHJcbiAgICB9XHJcbiAgXHJcbiAgICBnZXRJbml0aWFsQ2FyZHMoKSB7XHJcbiAgICAgIHJldHVybiBmZXRjaCh0aGlzLl9nZXRDYXJkc1VybCgpLCB7XHJcbiAgICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgICAgYXV0aG9yaXphdGlvbjogdGhpcy5fdG9rZW4sXHJcbiAgICAgICAgfSxcclxuICAgICAgfSkudGhlbih0aGlzLl9oYW5kbGVyUHJvbWlzZSk7XHJcbiAgICAgXHJcbiAgICB9XHJcbiAgXHJcbiAgICBwb3N0Q2FyZChuYW1lLCBsaW5rKSB7XHJcbiAgICAgIHJldHVybiBmZXRjaCh0aGlzLl9nZXRDYXJkc1VybCgpLCB7XHJcbiAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcclxuICAgICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgICBhdXRob3JpemF0aW9uOiB0aGlzLl90b2tlbixcclxuICAgICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBuYW1lLCBsaW5rIH0pLFxyXG4gICAgICB9KS50aGVuKHRoaXMuX2hhbmRsZXJQcm9taXNlKTtcclxuICAgIH1cclxuICBcclxuICAgIGRlbENhcmQoY2FyZElkKSB7XHJcbiAgICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9nZXRDYXJkc1VybCgpfS8ke2NhcmRJZH1gLCB7XHJcbiAgICAgICAgbWV0aG9kOiAnREVMRVRFJyxcclxuICAgICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgICBhdXRob3JpemF0aW9uOiB0aGlzLl90b2tlblxyXG4gICAgICAgIH1cclxuICAgICAgfSkudGhlbih0aGlzLl9oYW5kbGVyUHJvbWlzZSk7XHJcbiAgICB9XHJcbiAgXHJcbiAgICBwdXRMaWtlKGNhcmRJZCkge1xyXG4gICAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fZ2V0Q2FyZHNVcmwoKX0vLyR7Y2FyZElkfS9saWtlc2AsIHtcclxuICAgICAgICBtZXRob2Q6ICdQVVQnLFxyXG4gICAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICAgIGF1dGhvcml6YXRpb246IHRoaXMuX3Rva2VuXHJcbiAgICAgICAgfVxyXG4gICAgICB9KS50aGVuKHRoaXMuX2hhbmRsZXJQcm9taXNlKTtcclxuICAgIH1cclxuICBcclxuICAgIGRlbGV0ZUxpa2UoY2FyZElkKSB7XHJcbiAgICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9nZXRDYXJkc1VybCgpfS8vJHtjYXJkSWR9L2xpa2VzYCwge1xyXG4gICAgICAgIG1ldGhvZDogJ0RFTEVURScsXHJcbiAgICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgICAgYXV0aG9yaXphdGlvbjogdGhpcy5fdG9rZW5cclxuICAgICAgICB9XHJcbiAgICAgIH0pLnRoZW4odGhpcy5faGFuZGxlclByb21pc2UpO1xyXG4gICAgfVxyXG4gIH0iLCJpbXBvcnQgeyBQb3B1cCB9IGZyb20gXCIuL1BvcHVwLmpzXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgUG9wdXBEZWxldGVDYXJkQWNjZXB0IGV4dGVuZHMgUG9wdXAge1xyXG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IpIHtcclxuICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xyXG4gICAgdGhpcy5fZm9ybUVsZW1lbnQgPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKFwiLmZvcm1cIik7XHJcbiAgICB0aGlzLl9zdWJtaXRCdXR0b25FbGVtZW50ID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcihcIi5mb3JtX19zdWJtaXQtYnRuXCIpO1xyXG4gIH1cclxuXHJcbiAgc2V0RXZlbnRMaXN0ZW5lcnMoYWNjZXB0aW5nU3RyaW5nKSB7XHJcbiAgICB0aGlzLl9mb3JtRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIChldnQpID0+IHtcclxuICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbkVsZW1lbnQuZGlzYWJsZWQgPSB0cnVlO1xyXG4gICAgICB0aGlzLl9zdWJtaXRCdXR0b25FbGVtZW50LnRleHRDb250ZW50ID0gYWNjZXB0aW5nU3RyaW5nO1xyXG4gICAgICB0aGlzLl9jYWxsYmFja0FjY2VwdGluZygpXHJcbiAgICB9KTtcclxuICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgfVxyXG5cclxuXHJcbiAgc2V0QWNjZXB0aW5nQ2FsbGJhY2soY2FsbGJhY2tBY2NlcHRpbmcpe1xyXG4gICAgdGhpcy5fY2FsbGJhY2tBY2NlcHRpbmcgPSBjYWxsYmFja0FjY2VwdGluZztcclxufVxyXG5cclxuXHJcbiAgXHJcbiAgfVxyXG4iLCJcclxuXHJcbi8vINCa0J7QndCk0JjQkyDQpNCe0KDQnNCrXHJcbmV4cG9ydCBjb25zdCB2YWxpZGF0aW9uQ29uZmlnID0ge1xyXG4gIGZvcm1TZWxlY3RvcjogXCIuZm9ybVwiLFxyXG4gIGlucHV0U2VsZWN0b3I6IFwiLmZvcm1fX3RleHRcIixcclxuICBzdWJtaXRCdXR0b25TZWxlY3RvcjogXCIuZm9ybV9fc3VibWl0LWJ0blwiLFxyXG4gIGluYWN0aXZlQnV0dG9uQ2xhc3M6IFwiZm9ybV9fc3VibWl0LWJ0bl90eXBlX2Rpc2FibGVkXCIsXHJcbiAgaW5wdXRFcnJvckNsYXNzOiBcImZvcm1fX2lucHV0LWVycm9yXCIsXHJcbiAgZXJyb3JDbGFzczogXCJmb3JtX190ZXh0X3R5cGVfZXJyb3JcIixcclxufTtcclxuXHJcblxyXG4vLyDQndCQ0KHQotCg0J7QmdCa0JggQVBJXHJcbmV4cG9ydCBjb25zdCBhcGlDb25maWcgPSB7XHJcbiAgdG9rZW46IFwiYWY0MGE5MDUtOWQ4ZC00MDI1LWI4ZjAtNjZiMGI1NmYzZDQ2XCIsXHJcbiAgY29ob3J0OiBcIi9jb2hvcnQtNTJcIixcclxuICBzZXJ2ZXJVcmw6IFwiaHR0cHM6Ly9tZXN0by5ub21vcmVwYXJ0aWVzLmNvL3YxXCIsXHJcbn1cclxuXHJcblxyXG4vLyDQn9CV0KDQldCc0JXQndCd0KvQlVxyXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcbmV4cG9ydCBjb25zdCBjYXJkc0NvbnRhaW5lciA9IFwiLmVsZW1lbnRzXCI7XHJcbmV4cG9ydCBjb25zdCB0ZW1wbGF0ZUNhcmREZWZhdWx0U2VsZWN0b3IgPSBcIi5jYXJkLXRlbXBsYXRlX3R5cGVfZGVmYXVsdFwiO1xyXG4vL9Cf0J7Qn9CQ0J/Qq1xyXG5cclxuZXhwb3J0IGNvbnN0IHBvcHVwVHlwZVByb2ZpbGVTZWxlY3RvciA9IFwiLnBvcHVwX3R5cGVfcHJvZmlsZVwiO1xyXG5leHBvcnQgY29uc3QgcG9wdXBUeXBlUGxhY2VTZWxlY3RvciA9IFwiLnBvcHVwX3R5cGVfcGxhY2VcIjtcclxuZXhwb3J0IGNvbnN0IHBvcHVwVHlwZUltYWdlU2VsZWN0b3IgPSBcIi5wb3B1cF90eXBlX2ltYWdlXCI7XHJcbmV4cG9ydCBjb25zdCBwb3B1cFR5cGVBdmF0YXJTZWxlY3RvciA9IFwiLnBvcHVwX3R5cGVfbmV3LWF2YXRhclwiXHJcbmV4cG9ydCBjb25zdCBwb3B1cERlbENhcmRTZWxlY3RvciA9IFwiLnBvcHVwX3R5cGVfZGVsZXRlLWNhcmRcIlxyXG5cclxuXHJcbi8vINCU0JvQryDQntCi0JrQoNCr0KLQmNCvINCf0J7Qn9CQ0J/QntCSXHJcbmV4cG9ydCBjb25zdCBwb3B1cFByb2ZpbGVPcGVuQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcclxuICBcIi5wcm9maWxlX19lZGl0LWJ1dHRvblwiXHJcbik7XHJcbmV4cG9ydCBjb25zdCBwb3B1cEFkZFBsYWNlQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcclxuICBcIi5wcm9maWxlX19hZGQtYnV0dG9uXCJcclxuKTtcclxuXHJcbi8vINCU0JDQndCd0KvQlSDQn9Cg0J7QpNCY0JvQrywg0JrQntCi0J7QoNCr0JUg0JLQktCe0JTQmNCiINCf0J7Qm9Cs0JfQntCS0JDQotCV0JvQrFxyXG5leHBvcnQgY29uc3QgbmFtZUlucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5mb3JtX190ZXh0X3R5cGVfbmFtZVwiKTtcclxuZXhwb3J0IGNvbnN0IHByb2Zlc3Npb25JbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgXCIuZm9ybV9fdGV4dF90eXBlX3Byb2Zlc3Npb25cIlxyXG4pO1xyXG5cclxuLy8g0JTQkNCd0J3Qq9CVINCf0KDQntCk0JjQm9CvXHJcbmV4cG9ydCBjb25zdCBwcm9maWxlTmFtZVNlbGVjdG9yID0gXCIucHJvZmlsZV9fbmFtZVwiO1xyXG5leHBvcnQgY29uc3QgcHJvZmlsZUFib3V0U2VsZWN0b3IgPSBcIi5wcm9maWxlX19zdWJ0aXRsZVwiO1xyXG5leHBvcnQgY29uc3QgcHJvZmlsZUF2YXRhclNlbGVjdG9yID0gXCIucHJvZmlsZV9fYXZhdGFyXCJcclxuZXhwb3J0IGNvbnN0IHByb2ZpbGVBdmF0YXJDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yIChcIi5wcm9maWxlX19pbWctY29udGFpbmVyXCIpO1xyXG5leHBvcnQgY29uc3QgaW5wdXRBdmF0YXJVcmwgPSBcImlucHV0LWF2YXRhclwiO1xyXG5leHBvcnQgY29uc3QgaW5wdXRVc2VyTmFtZSA9ICduYW1lJztcclxuZXhwb3J0IGNvbnN0IGlucHV0VXNlckFib3V0ID0gJ3Byb2Zlc3Npb24nO1xyXG5cclxuXHJcbi8vINCk0J7QoNCc0KtcclxuZXhwb3J0IGNvbnN0IHByb2ZpbGVGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5mb3JtLXByb2ZpbGVcIik7XHJcbmV4cG9ydCBjb25zdCBwbGFjZUZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmZvcm0tcGxhY2VcIik7XHJcbmV4cG9ydCBjb25zdCBhdmF0YXJGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5mb3JtLWF2YXRhclwiKVxyXG5cclxuXHJcblxyXG5cclxuZXhwb3J0IGNvbnN0IGlucHV0Q2FyZFVybCA9IFwibGlua1wiO1xyXG5leHBvcnQgY29uc3QgaW5wdXRDYXJkTmFtZSA9IFwicGxhY2VcIjtcclxuIiwiaW1wb3J0IFwiLi9pbmRleC5jc3NcIjtcclxuXHJcbmltcG9ydCB7IENhcmQgfSBmcm9tIFwiLi4vY29tcG9uZW50cy9DYXJkLmpzXCI7XHJcbmltcG9ydCB7IEZvcm1WYWxpZGF0b3IgfSBmcm9tIFwiLi4vY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzXCI7XHJcbmltcG9ydCB7IFBvcHVwV2l0aEZvcm0gfSBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzXCI7XHJcbmltcG9ydCB7IFBvcHVwV2l0aEltYWdlIH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanNcIjtcclxuaW1wb3J0IHsgU2VjdGlvbiB9IGZyb20gXCIuLi9jb21wb25lbnRzL1NlY3Rpb24uanNcIjtcclxuaW1wb3J0IHsgVXNlckluZm8gfSBmcm9tIFwiLi4vY29tcG9uZW50cy9Vc2VySW5mby5qc1wiO1xyXG5pbXBvcnQgeyBBcGkgfSBmcm9tIFwiLi4vY29tcG9uZW50cy9BcGkuanNcIjtcclxuaW1wb3J0IHsgUG9wdXBEZWxldGVDYXJkQWNjZXB0IH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBEZWxldGVDYXJkQWNjZXB0LmpzXCI7XHJcbmltcG9ydCB7XHJcbiAgdmFsaWRhdGlvbkNvbmZpZyxcclxuICBjYXJkc0NvbnRhaW5lcixcclxuICB0ZW1wbGF0ZUNhcmREZWZhdWx0U2VsZWN0b3IsXHJcbiAgcG9wdXBUeXBlUHJvZmlsZVNlbGVjdG9yLFxyXG4gIHBvcHVwVHlwZVBsYWNlU2VsZWN0b3IsXHJcbiAgcG9wdXBUeXBlSW1hZ2VTZWxlY3RvcixcclxuICBwb3B1cFR5cGVBdmF0YXJTZWxlY3RvcixcclxuICBwb3B1cFByb2ZpbGVPcGVuQnV0dG9uLFxyXG4gIHBvcHVwQWRkUGxhY2VCdXR0b24sXHJcbiAgcG9wdXBEZWxDYXJkU2VsZWN0b3IsXHJcbiAgbmFtZUlucHV0LFxyXG4gIHByb2Zlc3Npb25JbnB1dCxcclxuICBwcm9maWxlTmFtZVNlbGVjdG9yLFxyXG4gIHByb2ZpbGVBYm91dFNlbGVjdG9yLFxyXG4gIHByb2ZpbGVBdmF0YXJTZWxlY3RvcixcclxuICBwcm9maWxlRm9ybSxcclxuICBwbGFjZUZvcm0sXHJcbiAgYXZhdGFyRm9ybSxcclxuICBhcGlDb25maWcsXHJcbiAgcHJvZmlsZUF2YXRhckNvbnRhaW5lcixcclxuICBpbnB1dEF2YXRhclVybCxcclxuICBpbnB1dFVzZXJOYW1lLFxyXG4gIGlucHV0VXNlckFib3V0LFxyXG4gIGlucHV0Q2FyZE5hbWUsXHJcbiAgaW5wdXRDYXJkVXJsLFxyXG59IGZyb20gXCIuLi91dGlscy9jb25zdGFudHMuanNcIjtcclxuXHJcblxyXG4vLyDQn9GA0L7QstC10YDQutCwINGE0L7RgNC8INC90LAg0LLQsNC70LjQtNC90L7RgdGC0YxcclxuY29uc3QgZm9ybVZhbGlkUHJvZmlsZSA9IG5ldyBGb3JtVmFsaWRhdG9yKHZhbGlkYXRpb25Db25maWcsIHByb2ZpbGVGb3JtKTtcclxuZm9ybVZhbGlkUHJvZmlsZS5lbmFibGVWYWxpZGF0aW9uKCk7XHJcblxyXG5jb25zdCBmb3JtVmFsaWRQbGFjZSA9IG5ldyBGb3JtVmFsaWRhdG9yKHZhbGlkYXRpb25Db25maWcsIHBsYWNlRm9ybSk7XHJcbmZvcm1WYWxpZFBsYWNlLmVuYWJsZVZhbGlkYXRpb24oKTtcclxuXHJcbmNvbnN0IGZvcm1WYWxpZEF2YXRhclVwZGF0ZSA9IG5ldyBGb3JtVmFsaWRhdG9yKHZhbGlkYXRpb25Db25maWcsIGF2YXRhckZvcm0pO1xyXG5mb3JtVmFsaWRBdmF0YXJVcGRhdGUuZW5hYmxlVmFsaWRhdGlvbigpO1xyXG5cclxuLy8gQVBJXHJcbmNvbnN0IGFwaSA9IG5ldyBBcGkoYXBpQ29uZmlnKTtcclxuXHJcbi8vINCY0L3RhNC+INC/0YDQvtGE0LjQu9GPXHJcbmNvbnN0IHVzZXJJbmZvID0gbmV3IFVzZXJJbmZvKHtcclxuICBwcm9maWxlTmFtZVNlbGVjdG9yLFxyXG4gIHByb2ZpbGVBYm91dFNlbGVjdG9yLFxyXG4gIHByb2ZpbGVBdmF0YXJTZWxlY3RvcixcclxufSk7XHJcblxyXG5cclxuYXBpXHJcbiAgLmdldFVzZXJJbmZvKClcclxuICAudGhlbigoZGF0YSkgPT4ge1xyXG4gICAgdXNlckluZm8uc2V0VXNlckluZm8oZGF0YSk7XHJcbiAgICBcclxuICB9KVxyXG4gIC50aGVuKCgpID0+IHtcclxuICAgIGFwaVxyXG4gICAgICAuZ2V0SW5pdGlhbENhcmRzKClcclxuICAgICAgLnRoZW4oKGNhcmRzKSA9PiB7XHJcbiAgICAgICAgY2FyZFNlY3Rpb24ucmVuZGVySXRlbXMoY2FyZHMucmV2ZXJzZSgpKTtcclxuICAgICAgfSlcclxuICAgICAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKGDQmtCw0YDRgtC+0YfQutC4INC90LUg0L/QvtC70YPRh9C10L3Riy4g0JrQvtC0INC+0YjQuNCx0LrQuDogJHtlcnJ9YCk7XHJcbiAgICAgIH0pO1xyXG4gIH0pXHJcbiAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgIGNvbnNvbGUuZXJyb3IoXHJcbiAgICAgIGDQlNCw0L3QvdGL0LUg0L3QtSDQv9C+0LvRg9GH0LXQvdGLLiDQmtC+0LQg0L7RiNC40LHQutC4OiAke2Vycn0sIGBcclxuICAgICk7XHJcbiAgfSk7XHJcblxyXG4gIGNvbnN0IHBvcHVwVXNlckF2YXRhciA9IG5ldyBQb3B1cFdpdGhGb3JtKFxyXG4gICAgcG9wdXBUeXBlQXZhdGFyU2VsZWN0b3IsXHJcbiAgICAoZGF0YSkgPT4ge1xyXG4gICAgICBhcGlcclxuICAgICAgICAucGF0Y2hBdmF0YXIoZGF0YVtpbnB1dEF2YXRhclVybF0pXHJcbiAgICAgICAgLnRoZW4oKGRhdGEpID0+IHtcclxuICAgICAgICAgIHVzZXJJbmZvLnNldFVzZXJJbmZvKGRhdGEpO1xyXG4gICAgICAgICAgcG9wdXBVc2VyQXZhdGFyLmNsb3NlKCk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgICAgICAgY29uc29sZS5lcnJvcihg0JDQstCw0YLQsNGAINC90LUg0L7QsdC90L7QstC70LXQvS4g0JrQvtC0INC+0YjQuNCx0LrQuDogJHtlcnJ9LCBgKTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5maW5hbGx5KCgpID0+e1xyXG4gICAgICAgICAgcG9wdXBVc2VyQXZhdGFyLl9zdWJtaXRCdXR0b25FbGVtZW50LnRleHRDb250ZW50ID0gXCLQodC+0YXRgNCw0L3QuNGC0YxcIjtcclxuICAgICAgICAgIHBvcHVwVXNlckF2YXRhci5fc3VibWl0QnV0dG9uRWxlbWVudC5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfSxcclxuICAgICgpID0+IHtcclxuICAgICAgZm9ybVZhbGlkQXZhdGFyVXBkYXRlLmNsZWFyVmFsaWRhdGlvbkVycm9ycygpO1xyXG4gICAgfVxyXG4gICk7XHJcbiAgcG9wdXBVc2VyQXZhdGFyLnNldEV2ZW50TGlzdGVuZXJzKFwi0KHQvtGF0YDQsNC90LXQvdC40LUuLi5cIik7XHJcbiAgXHJcbiAgcHJvZmlsZUF2YXRhckNvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgcG9wdXBVc2VyQXZhdGFyLm9wZW4oKTtcclxuICB9KTtcclxuXHJcblxyXG4gIGNvbnN0IHBvcHVwVXNlckluZm8gPSBuZXcgUG9wdXBXaXRoRm9ybShcclxuICAgIHBvcHVwVHlwZVByb2ZpbGVTZWxlY3RvcixcclxuICAgIChkYXRhKSA9PiB7XHJcbiAgICAgIGFwaVxyXG4gICAgICAgIC5wYXRjaFVzZXJJbmZvKGRhdGFbaW5wdXRVc2VyTmFtZV0sIGRhdGFbaW5wdXRVc2VyQWJvdXRdKVxyXG4gICAgICAgIC50aGVuKChkYXRhKSA9PiB7XHJcbiAgICAgICAgICB1c2VySW5mby5zZXRVc2VySW5mbyhkYXRhKTtcclxuICAgICAgICAgIHBvcHVwVXNlckluZm8uY2xvc2UoKTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICAgICAgICBjb25zb2xlLmVycm9yKFxyXG4gICAgICAgICAgICBg0J7RiNC40LHQutCwINC+0LHQvdC+0LLQu9C10L3QuNGPINC00LDQvdC90YvRhSDQv9C+0LvRjNC30L7QstCw0YLQtdC70Y8sINC60L7QtDogJHtlcnJ9LCBgXHJcbiAgICAgICAgICApO1xyXG4gICAgICB9KVxyXG4gICAgICAuZmluYWxseSgoKSA9PntcclxuICAgICAgICBwb3B1cFVzZXJJbmZvLl9zdWJtaXRCdXR0b25FbGVtZW50LnRleHRDb250ZW50ID0gXCLQodC+0YXRgNCw0L3QuNGC0YxcIjtcclxuICAgICAgICBwb3B1cFVzZXJJbmZvLl9zdWJtaXRCdXR0b25FbGVtZW50LmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICAgIH0pO1xyXG4gICAgfSxcclxuICAgICgpID0+IHtcclxuICAgICAgY29uc3QgaW5mbyA9IHVzZXJJbmZvLmdldFVzZXJJbmZvKCk7XHJcbiAgICAgIG5hbWVJbnB1dC52YWx1ZSA9IGluZm8udXNlck5hbWU7XHJcbiAgICAgIHByb2Zlc3Npb25JbnB1dC52YWx1ZSA9IGluZm8udXNlckFib3V0O1xyXG4gICAgICBmb3JtVmFsaWRQcm9maWxlLmNsZWFyVmFsaWRhdGlvbkVycm9ycygpO1xyXG4gICAgfVxyXG4gICk7XHJcbiAgcG9wdXBVc2VySW5mby5zZXRFdmVudExpc3RlbmVycyhcItCh0L7RhdGA0LDQvdC10L3QuNC1Li4uXCIpO1xyXG4gIHBvcHVwUHJvZmlsZU9wZW5CdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgIHBvcHVwVXNlckluZm8ub3BlbigpO1xyXG4gIH0pO1xyXG5cclxuXHJcblxyXG5jb25zdCBwb3B1cFdpdGhJbWFnZSA9IG5ldyBQb3B1cFdpdGhJbWFnZShwb3B1cFR5cGVJbWFnZVNlbGVjdG9yKTtcclxucG9wdXBXaXRoSW1hZ2Uuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuXHJcbmNvbnN0IHBvcHVwSW1nID0gbmV3IFBvcHVwV2l0aEZvcm0oXHJcbiAgcG9wdXBUeXBlUGxhY2VTZWxlY3RvcixcclxuICAoZGF0YSkgPT4ge1xyXG4gICAgYXBpXHJcbiAgICAucG9zdENhcmQoZGF0YVtpbnB1dENhcmROYW1lXSwgZGF0YVtpbnB1dENhcmRVcmxdKVxyXG4gICAgLnRoZW4oKGNhcmQpID0+IHtcclxuICAgICAgXHJcbiAgICAgIGNhcmRTZWN0aW9uLnJlbmRlckl0ZW0oY2FyZCk7XHJcbiAgICAgIHBvcHVwSW1nLmNsb3NlKCk7XHJcbiAgICB9KVxyXG4gICAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgICAgUHJvbWlzZS5yZWplY3QoYNCe0YjQuNCx0LrQsCDQtNC+0LHQsNCy0LvQtdC90LjRjyDQutCw0YDRgtC+0YfQutC4LiAke2Vycn1gKTtcclxuICAgIH0pXHJcbiAgICAuZmluYWxseSgoKSA9PntcclxuICAgICAgcG9wdXBJbWcuX3N1Ym1pdEJ1dHRvbkVsZW1lbnQudGV4dENvbnRlbnQgPSBcItCh0L7Qt9C00LDRgtGMXCI7XHJcbiAgICAgIHBvcHVwSW1nLl9zdWJtaXRCdXR0b25FbGVtZW50LmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICB9KTtcclxuICB9LFxyXG4gICgpID0+IHtcclxuICAgIGZvcm1WYWxpZFBsYWNlLmNsZWFyVmFsaWRhdGlvbkVycm9ycygpO1xyXG4gIH1cclxuKTtcclxucG9wdXBJbWcuc2V0RXZlbnRMaXN0ZW5lcnMoXCLQodC+0LfQtNCw0L3QuNC1Li4uXCIpO1xyXG5wb3B1cEFkZFBsYWNlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgcG9wdXBJbWcub3BlbigpO1xyXG59KTtcclxuXHJcbmNvbnN0IGNhcmRTZWN0aW9uID0gbmV3IFNlY3Rpb24oKGl0ZW0pID0+IHtcclxuICBjb25zdCBuZXdDYXJkID0gbmV3IENhcmQoXHJcbiAgICBpdGVtLFxyXG4gICAgdXNlckluZm8uZ2V0VXNlcklkKCksXHJcbiAgICB0ZW1wbGF0ZUNhcmREZWZhdWx0U2VsZWN0b3IsXHJcbiAgICAoKSA9PiB7XHJcbiAgICAgIHBvcHVwV2l0aEltYWdlLm9wZW4oaXRlbS5uYW1lLCBpdGVtLmxpbmspO1xyXG4gICAgfSxcclxuICAgIChjYXJkKSA9PiB7XHJcbiAgICAgIHBvcHVwRGVsQ2FyZC5vcGVuKCk7XHJcbiAgICAgIHBvcHVwRGVsQ2FyZC5zZXRBY2NlcHRpbmdDYWxsYmFjayhcclxuICAgICAgKCkgPT4ge1xyXG4gICAgICAgIGFwaVxyXG4gICAgICAgICAgLmRlbENhcmQoY2FyZC5faWQpXHJcbiAgICAgICAgICAudGhlbigoKSA9PiB7XHJcbiAgICAgICAgICAgIGNhcmQuZGVsZXRlQ2FyZChjYXJkLl9jYXJkKTtcclxuICAgICAgICAgICAgcG9wdXBEZWxDYXJkLmNsb3NlKCk7XHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgICAgICAgICAgUHJvbWlzZS5yZWplY3QoYCR7ZXJyfSDQntGI0LjQsdC60LAg0YPQtNCw0LvQtdC90LjRjyDQutCw0YDRgtC+0YfQutC4LmApO1xyXG4gICAgICAgICAgfSlcclxuICAgICAgICAgIC5maW5hbGx5KCgpID0+IHtcclxuICAgICAgICAgICAgcG9wdXBEZWxDYXJkLl9zdWJtaXRCdXR0b25FbGVtZW50LnRleHRDb250ZW50ID0gXCLQlNCwXCI7XHJcbiAgICAgICAgICAgIHBvcHVwRGVsQ2FyZC5fc3VibWl0QnV0dG9uRWxlbWVudC5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICApXHJcbiAgICB9LFxyXG4gICAgKGNhcmRJZCwgaXNMaWtlZCkgPT4ge1xyXG4gICAgICBpZiAoaXNMaWtlZCkge1xyXG4gICAgICAgIGFwaS5kZWxldGVMaWtlKGNhcmRJZClcclxuICAgICAgICAudGhlbigoY2FyZCkgPT4ge1xyXG4gICAgICAgICAgbmV3Q2FyZC5zZXRMaWtlKGNhcmQubGlrZXMpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgICAgICAgIFByb21pc2UucmVqZWN0KGAke2Vycn0g0J7RiNC40LHQutCwINGD0LTQsNC70LXQvdC40Y8g0LvQsNC50LrQsC5gKTtcclxuICAgICAgICB9KTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBhcGkucHV0TGlrZShjYXJkSWQpXHJcbiAgICAgICAgLnRoZW4oXHJcbiAgICAgICAgICAoY2FyZCkgPT4ge1xyXG4gICAgICAgICAgICBuZXdDYXJkLnNldExpa2UoY2FyZC5saWtlcyk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgKVxyXG4gICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICAgICAgICBQcm9taXNlLnJlamVjdChgJHtlcnJ9INCe0YjQuNCx0LrQsCDQv9C+0YHRgtCw0L3QvtCy0LrQuCDQu9Cw0LnQutCwLmApO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgKTtcclxuICByZXR1cm4gbmV3Q2FyZC5jcmVhdGVDYXJkKCk7XHJcbn0sIGNhcmRzQ29udGFpbmVyKTtcclxuXHJcblxyXG5jb25zdCBwb3B1cERlbENhcmQgPSBuZXcgUG9wdXBEZWxldGVDYXJkQWNjZXB0KHBvcHVwRGVsQ2FyZFNlbGVjdG9yKTtcclxucG9wdXBEZWxDYXJkLnNldEV2ZW50TGlzdGVuZXJzKFwi0KPQtNCw0LvQtdC90LjQtS4uLlwiKTtcclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG4iXSwibmFtZXMiOlsiQ2FyZCIsInVzZXJJZCIsInRlbXBsYXRlQ2FyZERlZmF1bHRTZWxlY3RvciIsIm9wZW5Qb3B1cEltYWdlIiwiaGFuZGxlVHJhc2hDbGljayIsImhhbmRsZUxpa2VDbGljayIsIm5hbWUiLCJsaW5rIiwib3duZXIiLCJfaWQiLCJsaWtlcyIsInRoaXMiLCJfdGl0bGUiLCJfc3JjIiwiX2xpa2VzIiwiX3VzZXJJZCIsIl9pc093bmVyIiwiX29wZW5Qb3B1cEltYWdlIiwiX3RlbXBsYXRlQ2FyZERlZmF1bHRTZWxlY3RvciIsIl9oYW5kbGVUcmFzaENsaWNrIiwiX2hhbmRsZUxpa2VDbGljayIsIl9zZXR0aW5ncyIsImNhcmRTZWxlY3RvciIsImxpa2VTZWxlY3RvciIsImxpa2VOdW1iZXJTZWxlY3RvciIsImxpa2VBY3RpdmVDbGFzcyIsInRpdGxlU2VsZWN0b3IiLCJpbWdTZWxlY3RvciIsImRlbEJ0blNlbGVjdG9yIiwiX2NhcmQiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJjb250ZW50IiwiY2xvbmVOb2RlIiwiX3RpdGxlRWwiLCJfaW1nRWwiLCJfbGlrZUJ0bkVsIiwiX2xpa2VOdW1iZXJFbCIsIl9kZWxCdG5FbCIsIl9nZW5lcmF0ZUNhcmQiLCJfc2V0RXZlbnRzTGlzdGVuZXJzIiwidGV4dENvbnRlbnQiLCJzcmMiLCJhbHQiLCJpbm5lclRleHQiLCJsZW5ndGgiLCJyZW1vdmUiLCJfcmVuZGVyTGlrZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJfaXNMaWtlZCIsIl9pbWdTcmMiLCJzb21lIiwiZWwiLCJjbGFzc0xpc3QiLCJhZGQiLCJjYXJkIiwiRm9ybVZhbGlkYXRvciIsInZhbGlkYXRpb25Db25maWciLCJmb3JtRWxlbWVudCIsIl92YWxpZGF0aW9uQ29uZmlnIiwiX2Zvcm1FbGVtZW50IiwiX2lucHV0TGlzdCIsIkFycmF5IiwiZnJvbSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJpbnB1dFNlbGVjdG9yIiwiX3N1Ym1pdEJ1dHRvblNlbGVjdG9yIiwic3VibWl0QnV0dG9uU2VsZWN0b3IiLCJmb3JFYWNoIiwiaW5wdXRFbGVtZW50IiwiX2lzVmFsaWQiLCJ0b2dnbGVCdXR0b25TdGF0ZSIsInZhbGlkaXR5IiwidmFsaWQiLCJfaGlkZUlucHV0RXJyb3IiLCJfc2hvd0lucHV0RXJyb3IiLCJlcnJvckVsZW1lbnQiLCJpZCIsImVycm9yQ2xhc3MiLCJpbnB1dEVycm9yQ2xhc3MiLCJlcnJvck1lc3NhZ2UiLCJ2YWxpZGF0aW9uTWVzc2FnZSIsImlucHV0RWwiLCJpbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiZGlzYWJsZWQiLCJldnQiLCJwcmV2ZW50RGVmYXVsdCIsIl9zZXRFdmVudExpc3RlbmVycyIsIlBvcHVwIiwicG9wdXBTZWxlY3RvciIsImtleSIsImNsb3NlIiwiX3BvcHVwIiwiX2hhbmRsZUVzY0Nsb3NlIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsInRhcmdldCIsImNvbnRhaW5zIiwiUG9wdXBXaXRoRm9ybSIsImNhbGxiYWNrU3VibWl0Rm9ybSIsImNhbGxiYWNrT3BlbkZvcm0iLCJfY2FsbGJhY2tTdWJtaXRGb3JtIiwiX2NhbGxiYWNrT3BlbkZvcm0iLCJfc3VibWl0QnV0dG9uRWxlbWVudCIsImRhdGEiLCJpdGVtIiwidmFsdWUiLCJ0ZXh0U3RyaW5nIiwiX2dldElucHV0VmFsdWVzIiwicmVzZXQiLCJQb3B1cFdpdGhJbWFnZSIsIl9wb3B1cEVsZW1lbnQiLCJ0aXRsZSIsIlNlY3Rpb24iLCJyZW5kZXJlciIsImNvbnRhaW5lclNlbGVjdG9yIiwiX3JlbmRlcmVyIiwiX3NlY3Rpb24iLCJpdGVtcyIsImVsZW1lbnQiLCJfYWRkSXRlbSIsInByZXBlbmQiLCJpbm5lckhUTUwiLCJVc2VySW5mbyIsInByb2ZpbGVOYW1lU2VsZWN0b3IiLCJwcm9maWxlQWJvdXRTZWxlY3RvciIsInByb2ZpbGVBdmF0YXJTZWxlY3RvciIsIl9wcm9maWxlTmFtZUVsZW1lbnQiLCJfcHJvZmlsZUFib3V0RWxlbWVuZXQiLCJfcHJvZmlsZUF2YXRhckVsZW1lbnQiLCJhYm91dCIsImF2YXRhciIsImNvaG9ydCIsIl9uYW1lIiwiX2Fib3V0IiwiX2F2YXRhciIsIl9jb2hvcnQiLCJ1c2VyTmFtZSIsInVzZXJBYm91dCIsIkFwaSIsInRva2VuIiwic2VydmVyVXJsIiwiX3Rva2VuIiwiX3NlcnZlclVybCIsInJlcyIsIm9rIiwianNvbiIsInN0YXR1cyIsImZldGNoIiwiX2dldFVzZXJJbmZvVXJsIiwiaGVhZGVycyIsImF1dGhvcml6YXRpb24iLCJ0aGVuIiwiX2hhbmRsZXJQcm9taXNlIiwibWV0aG9kIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJ1cmwiLCJfZ2V0QXZhdGFyVXJsIiwiX2dldENhcmRzVXJsIiwiY2FyZElkIiwiUG9wdXBEZWxldGVDYXJkQWNjZXB0IiwiYWNjZXB0aW5nU3RyaW5nIiwiX2NhbGxiYWNrQWNjZXB0aW5nIiwiY2FsbGJhY2tBY2NlcHRpbmciLCJmb3JtU2VsZWN0b3IiLCJwb3B1cFByb2ZpbGVPcGVuQnV0dG9uIiwicG9wdXBBZGRQbGFjZUJ1dHRvbiIsIm5hbWVJbnB1dCIsInByb2Zlc3Npb25JbnB1dCIsInByb2ZpbGVBdmF0YXJDb250YWluZXIiLCJwcm9maWxlRm9ybSIsInBsYWNlRm9ybSIsImF2YXRhckZvcm0iLCJmb3JtVmFsaWRQcm9maWxlIiwiZW5hYmxlVmFsaWRhdGlvbiIsImZvcm1WYWxpZFBsYWNlIiwiZm9ybVZhbGlkQXZhdGFyVXBkYXRlIiwiYXBpIiwidXNlckluZm8iLCJnZXRVc2VySW5mbyIsInNldFVzZXJJbmZvIiwiZ2V0SW5pdGlhbENhcmRzIiwiY2FyZHMiLCJjYXJkU2VjdGlvbiIsInJlbmRlckl0ZW1zIiwicmV2ZXJzZSIsImNhdGNoIiwiZXJyIiwiY29uc29sZSIsImVycm9yIiwicG9wdXBVc2VyQXZhdGFyIiwicGF0Y2hBdmF0YXIiLCJmaW5hbGx5IiwiY2xlYXJWYWxpZGF0aW9uRXJyb3JzIiwic2V0RXZlbnRMaXN0ZW5lcnMiLCJvcGVuIiwicG9wdXBVc2VySW5mbyIsInBhdGNoVXNlckluZm8iLCJpbmZvIiwicG9wdXBXaXRoSW1hZ2UiLCJwb3B1cEltZyIsInBvc3RDYXJkIiwicmVuZGVySXRlbSIsIlByb21pc2UiLCJyZWplY3QiLCJuZXdDYXJkIiwiZ2V0VXNlcklkIiwicG9wdXBEZWxDYXJkIiwic2V0QWNjZXB0aW5nQ2FsbGJhY2siLCJkZWxDYXJkIiwiZGVsZXRlQ2FyZCIsImlzTGlrZWQiLCJkZWxldGVMaWtlIiwic2V0TGlrZSIsInB1dExpa2UiLCJjcmVhdGVDYXJkIl0sInNvdXJjZVJvb3QiOiIifQ==