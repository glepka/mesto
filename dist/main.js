(()=>{"use strict";function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var t=function(){function t(e,n,r,o,i,c){var a=e.name,s=e.link,l=e.owner,u=e._id,f=e.likes;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this._title=a,this._src=s,this._likes=f,this._id=u,this._userId=n,this._isOwner=l._id===n,this._openPopupImage=o,this._templateCardDefaultSelector=r,this._handleTrashClick=i,this._handleLikeClick=c,this._settings={cardSelector:".elements__element",likeSelector:".elements__icon",likeNumberSelector:".elements__like-counter",likeActiveClass:"elements__icon_type_active",titleSelector:".elements__title",imgSelector:".elements__image",delBtnSelector:".elements__trash"},this._card=document.querySelector(this._templateCardDefaultSelector).content.querySelector(this._settings.cardSelector).cloneNode(!0),this._titleEl=this._card.querySelector(this._settings.titleSelector),this._imgEl=this._card.querySelector(this._settings.imgSelector),this._likeBtnEl=this._card.querySelector(this._settings.likeSelector),this._likeNumberEl=this._card.querySelector(this._settings.likeNumberSelector),this._delBtnEl=this._card.querySelector(this._settings.delBtnSelector)}var n,r;return n=t,(r=[{key:"createCard",value:function(){return this._generateCard(),this._setEventsListeners(),this._card}},{key:"_generateCard",value:function(){this._titleEl.textContent=this._title,this._imgEl.src=this._src,this._imgEl.alt=this._title,this._likeNumberEl.innerText=this._likes.length,this._isOwner||this._delBtnEl.remove(),this._renderLike(this.likes)}},{key:"_setEventsListeners",value:function(){var e=this;this._likeBtnEl.addEventListener("click",(function(){e._handleLikeClick(e._id,e._isLiked())})),this._delBtnEl.addEventListener("click",(function(){e._handleTrashClick(e)})),this._imgEl.addEventListener("click",(function(){e._openPopupImage(e._title,e._imgSrc)}))}},{key:"_isLiked",value:function(){var e=this;return this._likes.some((function(t){return t._id===e._userId}))}},{key:"_renderLike",value:function(){this._isLiked()?this._likeBtnEl.classList.add(this._settings.likeActiveClass):this._likeBtnEl.classList.remove(this._settings.likeActiveClass),this._likeNumberEl.innerText=this._likes.length}},{key:"setLike",value:function(e){this._likes=e,this._renderLike()}},{key:"deleteCard",value:function(e){e.remove()}}])&&e(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),t}();function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var r=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._validationConfig=t,this._formElement=n,this._inputList=Array.from(this._formElement.querySelectorAll(this._validationConfig.inputSelector)),this._submitButtonSelector=this._formElement.querySelector(this._validationConfig.submitButtonSelector)}var t,r;return t=e,(r=[{key:"_setEventListeners",value:function(){var e=this;this._inputList.forEach((function(t){t.addEventListener("input",(function(){e._isValid(t),e.toggleButtonState()}))}))}},{key:"_isValid",value:function(e){e.validity.valid?this._hideInputError(e):this._showInputError(e)}},{key:"_hideInputError",value:function(e){var t=this._formElement.querySelector(".".concat(e.id,"-error"));e.classList.remove(this._validationConfig.errorClass),t.classList.remove(this._validationConfig.inputErrorClass),t.textContent=""}},{key:"_showInputError",value:function(e){var t=this._formElement.querySelector(".".concat(e.id,"-error")),n=e.validationMessage;e.classList.add(this._validationConfig.errorClass),t.textContent=n,t.classList.add(this._validationConfig.inputErrorClass)}},{key:"toggleButtonState",value:function(){this._inputList.some((function(e){return!e.validity.valid}))?(this._submitButtonSelector.classList.add(this._validationConfig.inactiveButtonClass),this._submitButtonSelector.disabled=!0):(this._submitButtonSelector.classList.remove(this._validationConfig.inactiveButtonClass),this._submitButtonSelector.disabled=!1)}},{key:"clearValidationErrors",value:function(){this._inputList.forEach(this._hideInputError,this),this.toggleButtonState()}},{key:"enableValidation",value:function(){this._formElement.addEventListener("submit",(function(e){e.preventDefault()})),this._setEventListeners()}}])&&n(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i=function(){function e(t){var n,r,o=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),r=function(e){"Escape"===e.key&&o.close()},(n="_handleEscClose")in this?Object.defineProperty(this,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):this[n]=r,this._popup=document.querySelector(t)}var t,n;return t=e,(n=[{key:"open",value:function(){this._popup.classList.add("popup_opened"),document.addEventListener("keyup",this._handleEscClose)}},{key:"close",value:function(){this._popup.classList.remove("popup_opened"),document.removeEventListener("keyup",this._handleEscClose)}},{key:"setEventListeners",value:function(){var e=this;this._popup.addEventListener("mousedown",(function(t){(t.target.classList.contains("popup__cross")||t.target.classList.contains("popup"))&&e.close()}))}}])&&o(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(){return s="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=l(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},s.apply(this,arguments)}function l(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=p(e)););return e}function u(e,t){return u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},u(e,t)}function f(e,t){if(t&&("object"===c(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function p(e){return p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},p(e)}var h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&u(e,t)}(c,e);var t,n,r,o,i=(r=c,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=p(r);if(o){var n=p(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return f(this,e)});function c(e,t,n){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(r=i.call(this,e))._formElement=r._popup.querySelector(".form"),r._inputList=r._popup.querySelectorAll(".form__text"),r._callbackSubmitForm=t,r._callbackOpenForm=n,r._submitButtonElement=r._formElement.querySelector(".form__submit-btn"),r}return t=c,(n=[{key:"_getInputValues",value:function(){var e={};return this._inputList.forEach((function(t){e[t.name]=t.value})),e}},{key:"setEventListeners",value:function(e){var t=this;this._formElement.addEventListener("submit",(function(n){n.preventDefault(),t._submitButtonElement.disabled=!0,t._submitButtonElement.textContent=e,t._callbackSubmitForm(t._getInputValues())})),s(p(c.prototype),"setEventListeners",this).call(this)}},{key:"close",value:function(){this._formElement.reset(),s(p(c.prototype),"close",this).call(this)}},{key:"open",value:function(){this._callbackOpenForm(),s(p(c.prototype),"open",this).call(this)}}])&&a(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),c}(i);function _(e){return _="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_(e)}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(){return y="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=m(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},y.apply(this,arguments)}function m(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=k(e)););return e}function v(e,t){return v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},v(e,t)}function b(e,t){if(t&&("object"===_(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function k(e){return k=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},k(e)}var g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&v(e,t)}(c,e);var t,n,r,o,i=(r=c,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=k(r);if(o){var n=k(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return b(this,e)});function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=i.call(this,e))._popupElement=t._popup.querySelector(".popup__image"),t}return t=c,(n=[{key:"open",value:function(e,t){this._popup.querySelector(".popup__image").src=t,this._popup.querySelector(".popup__image").alt=e,this._popup.querySelector(".popup__image-text").textContent=e,y(k(c.prototype),"open",this).call(this)}}])&&d(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),c}(i);function E(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var S=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._renderer=t,this._section=document.querySelector(n)}var t,n;return t=e,(n=[{key:"renderItems",value:function(e){var t=this;e.forEach((function(e){t._addItem(t._renderer(e))}))}},{key:"renderItem",value:function(e){this._addItem(this._renderer(e))}},{key:"_addItem",value:function(e){this._section.prepend(e)}},{key:"clearSection",value:function(){this._section.innerHTML=""}}])&&E(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function w(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var O=function(){function e(t){var n=t.profileNameSelector,r=t.profileAboutSelector,o=t.profileAvatarSelector;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._profileNameElement=document.querySelector(n),this._profileAboutElemenet=document.querySelector(r),this._profileAvatarElement=document.querySelector(o)}var t,n;return t=e,(n=[{key:"setUserInfo",value:function(e){var t=e.name,n=e.about,r=e.avatar,o=e._id,i=e.cohort;this._name=t,this._about=n,this._avatar=r,this._id=o,this._cohort=i,this._profileNameElement.textContent=this._name,this._profileAboutElemenet.textContent=this._about,this._profileAvatarElement.src=this._avatar}},{key:"getUserInfo",value:function(){return{userName:this._name,userAbout:this._about}}},{key:"getUserId",value:function(){return this._id}}])&&w(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function C(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var P=function(){function e(t){var n=t.token,r=t.cohort,o=t.serverUrl;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._token=n,this._cohort=r,this._serverUrl=o}var t,n;return t=e,(n=[{key:"_getCardsUrl",value:function(){return"".concat(this._serverUrl).concat(this._cohort,"/cards")}},{key:"_getUserInfoUrl",value:function(){return"".concat(this._serverUrl).concat(this._cohort,"/users/me")}},{key:"_getAvatarUrl",value:function(){return"".concat(this._serverUrl).concat(this._cohort,"/users/me/avatar")}},{key:"_handlerPromise",value:function(e){if(e.ok)return e.json();throw e.status}},{key:"getUserInfo",value:function(){return fetch(this._getUserInfoUrl(),{headers:{authorization:this._token}}).then(this._handlerPromise)}},{key:"patchUserInfo",value:function(e,t){return fetch(this._getUserInfoUrl(),{method:"PATCH",headers:{authorization:this._token,"Content-Type":"application/json"},body:JSON.stringify({name:e,about:t})}).then(this._handlerPromise)}},{key:"patchAvatar",value:function(e){return fetch(this._getAvatarUrl(),{method:"PATCH",headers:{authorization:this._token,"Content-Type":"application/json"},body:JSON.stringify({avatar:e})}).then(this._handlerPromise)}},{key:"getInitialCards",value:function(){return fetch(this._getCardsUrl(),{headers:{authorization:this._token}}).then(this._handlerPromise)}},{key:"postCard",value:function(e,t){return fetch(this._getCardsUrl(),{method:"POST",headers:{authorization:this._token,"Content-Type":"application/json"},body:JSON.stringify({name:e,link:t})}).then(this._handlerPromise)}},{key:"delCard",value:function(e){return fetch("".concat(this._getCardsUrl(),"/").concat(e),{method:"DELETE",headers:{authorization:this._token}}).then(this._handlerPromise)}},{key:"putLike",value:function(e){return fetch("".concat(this._getCardsUrl(),"//").concat(e,"/likes"),{method:"PUT",headers:{authorization:this._token}}).then(this._handlerPromise)}},{key:"deleteLike",value:function(e){return fetch("".concat(this._getCardsUrl(),"//").concat(e,"/likes"),{method:"DELETE",headers:{authorization:this._token}}).then(this._handlerPromise)}}])&&C(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function L(e){return L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},L(e)}function j(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function B(){return B="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=I(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},B.apply(this,arguments)}function I(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=T(e)););return e}function q(e,t){return q=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},q(e,t)}function U(e,t){if(t&&("object"===L(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function T(e){return T=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},T(e)}var R=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&q(e,t)}(c,e);var t,n,r,o,i=(r=c,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=T(r);if(o){var n=T(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return U(this,e)});function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=i.call(this,e))._formElement=t._popup.querySelector(".form"),t._submitButtonElement=t._popup.querySelector(".form__submit-btn"),t}return t=c,(n=[{key:"setEventListeners",value:function(e){var t=this;this._formElement.addEventListener("submit",(function(n){n.preventDefault(),t._submitButtonElement.disabled=!0,t._submitButtonElement.textContent=e,t._callbackAccepting()})),B(T(c.prototype),"setEventListeners",this).call(this)}},{key:"setAcceptingCallback",value:function(e){this._callbackAccepting=e}}])&&j(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),c}(i),x={formSelector:".form",inputSelector:".form__text",submitButtonSelector:".form__submit-btn",inactiveButtonClass:"form__submit-btn_type_disabled",inputErrorClass:"form__input-error",errorClass:"form__text_type_error"},A=document.querySelector(".profile__edit-button"),N=document.querySelector(".profile__add-button"),D=document.querySelector(".form__text_type_name"),V=document.querySelector(".form__text_type_profession"),z=document.querySelector(".profile__img-container"),F=document.querySelector(".form-profile"),H=document.querySelector(".form-place"),J=document.querySelector(".form-avatar"),M=new r(x,F);M.enableValidation();var G=new r(x,H);G.enableValidation();var K=new r(x,J);K.enableValidation();var Q=new P({token:"af40a905-9d8d-4025-b8f0-66b0b56f3d46",cohort:"/cohort-52",serverUrl:"https://mesto.nomoreparties.co/v1"}),W=new O({profileNameSelector:".profile__name",profileAboutSelector:".profile__subtitle",profileAvatarSelector:".profile__avatar"});Q.getUserInfo().then((function(e){W.setUserInfo(e)})).then((function(){Q.getInitialCards().then((function(e){ee.renderItems(e.reverse())})).catch((function(e){console.error("Карточки не получены. Код ошибки: ".concat(e))}))})).catch((function(e){console.error("Данные не получены. Код ошибки: ".concat(e,", "))}));var X=new h(".popup_type_new-avatar",(function(e){Q.patchAvatar(e["input-avatar"]).then((function(e){W.setUserInfo(e),X.close()})).catch((function(e){console.error("Аватар не обновлен. Код ошибки: ".concat(e,", "))})).finally((function(){X._submitButtonElement.textContent="Сохранить",X._submitButtonElement.disabled=!1}))}),(function(){K.clearValidationErrors()}));X.setEventListeners("Сохранение..."),z.addEventListener("click",(function(){X.open()}));var Y=new h(".popup_type_profile",(function(e){Q.patchUserInfo(e.name,e.profession).then((function(e){W.setUserInfo(e),Y.close()})).catch((function(e){console.error("Ошибка обновления данных пользователя, код: ".concat(e,", "))})).finally((function(){Y._submitButtonElement.textContent="Сохранить",Y._submitButtonElement.disabled=!1}))}),(function(){var e=W.getUserInfo();D.value=e.userName,V.value=e.userAbout,M.clearValidationErrors()}));Y.setEventListeners("Сохранение..."),A.addEventListener("click",(function(){Y.open()}));var Z=new g(".popup_type_image");Z.setEventListeners();var $=new h(".popup_type_place",(function(e){Q.postCard(e.place,e.link).then((function(e){ee.renderItem(e),$.close()})).catch((function(e){Promise.reject("Ошибка добавления карточки. ".concat(e))})).finally((function(){$._submitButtonElement.textContent="Создать",$._submitButtonElement.disabled=!1}))}),(function(){G.clearValidationErrors()}));$.setEventListeners("Создание..."),N.addEventListener("click",(function(){$.open()}));var ee=new S((function(e){var n=new t(e,W.getUserId(),".card-template_type_default",(function(){Z.open(e.name,e.link)}),(function(e){te.open(),te.setAcceptingCallback((function(){Q.delCard(e._id).then((function(){e.deleteCard(e._card),te.close()})).catch((function(e){Promise.reject("".concat(e," Ошибка удаления карточки."))})).finally((function(){te._submitButtonElement.textContent="Да",te._submitButtonElement.disabled=!1}))}))}),(function(e,t){t?Q.deleteLike(e).then((function(e){n.setLike(e.likes)})).catch((function(e){Promise.reject("".concat(e," Ошибка удаления лайка."))})):Q.putLike(e).then((function(e){n.setLike(e.likes)})).catch((function(e){Promise.reject("".concat(e," Ошибка постановки лайка."))}))}));return n.createCard()}),".elements"),te=new R(".popup_type_delete-card");te.setEventListeners("Удаление...")})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFLakcsS0FDckMsSUFDRCxTQUFDZ0QsR0FDQ3lKLEdBQWFaLE9BQ2JZLEdBQWFDLHNCQUNiLFdBQ0UvQixFQUNHZ0MsUUFBUTNKLEVBQUs5QyxLQUNiOEksTUFBSyxXQUNKaEcsRUFBSzRKLFdBQVc1SixFQUFLMUIsT0FDckJtTCxHQUFhckgsT0FDZCxJQUNBZ0csT0FBTSxTQUFDQyxHQUNOZ0IsUUFBUUMsT0FBUixVQUFrQmpCLEVBQWxCLDhCQUNELElBQ0FLLFNBQVEsV0FDUGUsR0FBYTFHLHFCQUFxQjdELFlBQWMsS0FDaER1SyxHQUFhMUcscUJBQXFCbEIsVUFBVyxDQUM5QyxHQUNGLEdBRUosSUFDRCxTQUFDNEUsRUFBUW9ELEdBQ0hBLEVBQ0ZsQyxFQUFJbUMsV0FBV3JELEdBQ2RULE1BQUssU0FBQ2hHLEdBQ0x1SixFQUFRUSxRQUFRL0osRUFBSzdDLE1BQ3RCLElBQ0FpTCxPQUFNLFNBQUNDLEdBQ05nQixRQUFRQyxPQUFSLFVBQWtCakIsRUFBbEIsMkJBQ0QsSUFFRFYsRUFBSXFDLFFBQVF2RCxHQUNYVCxNQUNDLFNBQUNoRyxHQUNDdUosRUFBUVEsUUFBUS9KLEVBQUs3QyxNQUN0QixJQUVGaUwsT0FBTSxTQUFDQyxHQUNOZ0IsUUFBUUMsT0FBUixVQUFrQmpCLEVBQWxCLDZCQUNELEdBRUosSUFFSCxPQUFPa0IsRUFBUVUsWUFDaEIsR0R4TTZCLGFDMk14QlIsR0FBZSxJQUFJL0MsRURuTVcsMkJDb01wQytDLEdBQWFiLGtCQUFrQixjIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9DYXJkLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1BvcHVwLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvU2VjdGlvbi5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1VzZXJJbmZvLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvQXBpLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBEZWxldGVDYXJkQWNjZXB0LmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL3V0aWxzL2NvbnN0YW50cy5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9wYWdlcy9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY2xhc3MgQ2FyZCB7XHJcbiAgY29uc3RydWN0b3IoeyBuYW1lLCBsaW5rLCBvd25lciwgX2lkLCBsaWtlc30sIHVzZXJJZCwgdGVtcGxhdGVDYXJkRGVmYXVsdFNlbGVjdG9yLCBvcGVuUG9wdXBJbWFnZSwgaGFuZGxlVHJhc2hDbGljaywgaGFuZGxlTGlrZUNsaWNrKSB7XHJcbiAgICB0aGlzLl90aXRsZSA9IG5hbWU7XHJcbiAgICB0aGlzLl9zcmMgPSBsaW5rO1xyXG4gICAgdGhpcy5fbGlrZXMgPSBsaWtlcztcclxuICAgIHRoaXMuX2lkID0gX2lkO1xyXG4gICAgdGhpcy5fdXNlcklkID0gdXNlcklkO1xyXG4gICAgdGhpcy5faXNPd25lciA9IG93bmVyLl9pZCA9PT0gdXNlcklkID8gdHJ1ZSA6IGZhbHNlO1xyXG4gICAgdGhpcy5fb3BlblBvcHVwSW1hZ2UgPSBvcGVuUG9wdXBJbWFnZTtcclxuICAgIHRoaXMuX3RlbXBsYXRlQ2FyZERlZmF1bHRTZWxlY3RvciA9IHRlbXBsYXRlQ2FyZERlZmF1bHRTZWxlY3RvcjtcclxuICAgIHRoaXMuX2hhbmRsZVRyYXNoQ2xpY2sgPSBoYW5kbGVUcmFzaENsaWNrO1xyXG4gICAgdGhpcy5faGFuZGxlTGlrZUNsaWNrID0gaGFuZGxlTGlrZUNsaWNrO1xyXG5cclxuICAgIHRoaXMuX3NldHRpbmdzID0ge1xyXG4gICAgICBjYXJkU2VsZWN0b3I6ICcuZWxlbWVudHNfX2VsZW1lbnQnLFxyXG4gICAgICBsaWtlU2VsZWN0b3I6ICcuZWxlbWVudHNfX2ljb24nLFxyXG4gICAgICBsaWtlTnVtYmVyU2VsZWN0b3I6ICcuZWxlbWVudHNfX2xpa2UtY291bnRlcicsXHJcbiAgICAgIGxpa2VBY3RpdmVDbGFzczogJ2VsZW1lbnRzX19pY29uX3R5cGVfYWN0aXZlJyxcclxuICAgICAgdGl0bGVTZWxlY3RvcjogJy5lbGVtZW50c19fdGl0bGUnLFxyXG4gICAgICBpbWdTZWxlY3RvcjogJy5lbGVtZW50c19faW1hZ2UnLFxyXG4gICAgICBkZWxCdG5TZWxlY3RvcjogJy5lbGVtZW50c19fdHJhc2gnXHJcbiAgICB9XHJcbiAgICBcclxuICAgIHRoaXMuX2NhcmQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRoaXMuX3RlbXBsYXRlQ2FyZERlZmF1bHRTZWxlY3RvcikuY29udGVudC5xdWVyeVNlbGVjdG9yKHRoaXMuX3NldHRpbmdzLmNhcmRTZWxlY3RvcikuY2xvbmVOb2RlKHRydWUpOyAgXHJcbiAgICB0aGlzLl90aXRsZUVsID0gdGhpcy5fY2FyZC5xdWVyeVNlbGVjdG9yKHRoaXMuX3NldHRpbmdzLnRpdGxlU2VsZWN0b3IpO1xyXG4gICAgdGhpcy5faW1nRWwgPSB0aGlzLl9jYXJkLnF1ZXJ5U2VsZWN0b3IodGhpcy5fc2V0dGluZ3MuaW1nU2VsZWN0b3IpO1xyXG4gICAgdGhpcy5fbGlrZUJ0bkVsID0gdGhpcy5fY2FyZC5xdWVyeVNlbGVjdG9yKHRoaXMuX3NldHRpbmdzLmxpa2VTZWxlY3Rvcik7XHJcbiAgICB0aGlzLl9saWtlTnVtYmVyRWwgPSB0aGlzLl9jYXJkLnF1ZXJ5U2VsZWN0b3IodGhpcy5fc2V0dGluZ3MubGlrZU51bWJlclNlbGVjdG9yKTtcclxuICAgIHRoaXMuX2RlbEJ0bkVsID0gdGhpcy5fY2FyZC5xdWVyeVNlbGVjdG9yKHRoaXMuX3NldHRpbmdzLmRlbEJ0blNlbGVjdG9yKTtcclxuXHJcbiAgfVxyXG5cclxuXHJcbiAgY3JlYXRlQ2FyZCgpIHtcclxuICAgIHRoaXMuX2dlbmVyYXRlQ2FyZCgpO1xyXG4gICAgdGhpcy5fc2V0RXZlbnRzTGlzdGVuZXJzKCk7XHJcbiAgICByZXR1cm4gdGhpcy5fY2FyZDtcclxuICB9XHJcblxyXG5cclxuICBfZ2VuZXJhdGVDYXJkKCkge1xyXG4gICAgdGhpcy5fdGl0bGVFbC50ZXh0Q29udGVudCA9IHRoaXMuX3RpdGxlO1xyXG4gICAgdGhpcy5faW1nRWwuc3JjID0gdGhpcy5fc3JjO1xyXG4gICAgdGhpcy5faW1nRWwuYWx0ID0gdGhpcy5fdGl0bGU7XHJcbiAgICB0aGlzLl9saWtlTnVtYmVyRWwuaW5uZXJUZXh0ID0gdGhpcy5fbGlrZXMubGVuZ3RoO1xyXG4gICAgaWYoIXRoaXMuX2lzT3duZXIpIHRoaXMuX2RlbEJ0bkVsLnJlbW92ZSgpO1xyXG4gICAgdGhpcy5fcmVuZGVyTGlrZSh0aGlzLmxpa2VzKTtcclxuICB9XHJcblxyXG4gIF9zZXRFdmVudHNMaXN0ZW5lcnMoKSB7XHJcbiAgICB0aGlzLl9saWtlQnRuRWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICB0aGlzLl9oYW5kbGVMaWtlQ2xpY2sodGhpcy5faWQsIHRoaXMuX2lzTGlrZWQoKSl9KTtcclxuICAgIHRoaXMuX2RlbEJ0bkVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4geyB0aGlzLl9oYW5kbGVUcmFzaENsaWNrKHRoaXMpIH0pO1xyXG4gICAgdGhpcy5faW1nRWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7IHRoaXMuX29wZW5Qb3B1cEltYWdlKHRoaXMuX3RpdGxlLCB0aGlzLl9pbWdTcmMpIH0pO1xyXG4gIH1cclxuXHJcblxyXG5cclxuICBfaXNMaWtlZCgpIHtcclxuICAgIHJldHVybiB0aGlzLl9saWtlcy5zb21lKGVsID0+IGVsLl9pZCA9PT0gdGhpcy5fdXNlcklkKTtcclxuICB9XHJcblxyXG5cclxuXHJcbiAgX3JlbmRlckxpa2UoKSB7XHJcblxyXG4gICAgdGhpcy5faXNMaWtlZCgpID9cclxuICAgICAgdGhpcy5fbGlrZUJ0bkVsLmNsYXNzTGlzdC5hZGQodGhpcy5fc2V0dGluZ3MubGlrZUFjdGl2ZUNsYXNzKVxyXG4gICAgICA6IHRoaXMuX2xpa2VCdG5FbC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX3NldHRpbmdzLmxpa2VBY3RpdmVDbGFzcyk7XHJcbiAgICAgIFxyXG4gICAgICB0aGlzLl9saWtlTnVtYmVyRWwuaW5uZXJUZXh0ID0gdGhpcy5fbGlrZXMubGVuZ3RoO1xyXG4gIH1cclxuXHJcbiAgc2V0TGlrZShsaWtlcyl7XHJcbiAgICB0aGlzLl9saWtlcyA9IGxpa2VzXHJcbiAgICB0aGlzLl9yZW5kZXJMaWtlKCk7XHJcbiAgfVxyXG5cclxuICBkZWxldGVDYXJkKGNhcmQpe1xyXG4gICAgY2FyZC5yZW1vdmUoKTtcclxuICB9XHJcbiBcclxufVxyXG4iLCJleHBvcnQgY2xhc3MgRm9ybVZhbGlkYXRvciB7XHJcbiAgY29uc3RydWN0b3IodmFsaWRhdGlvbkNvbmZpZywgZm9ybUVsZW1lbnQpIHtcclxuICAgIHRoaXMuX3ZhbGlkYXRpb25Db25maWcgPSB2YWxpZGF0aW9uQ29uZmlnO1xyXG4gICAgdGhpcy5fZm9ybUVsZW1lbnQgPSBmb3JtRWxlbWVudDtcclxuICAgIHRoaXMuX2lucHV0TGlzdCA9IEFycmF5LmZyb20oXHJcbiAgICAgIHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5fdmFsaWRhdGlvbkNvbmZpZy5pbnB1dFNlbGVjdG9yKVxyXG4gICAgKTtcclxuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvblNlbGVjdG9yID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihcclxuICAgICAgdGhpcy5fdmFsaWRhdGlvbkNvbmZpZy5zdWJtaXRCdXR0b25TZWxlY3RvclxyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIC8vINCU0L7QsdCw0LLQu9C10L3QuNC1INC+0LHRgNCw0LHQvtGC0YfQuNC60L7QsiDQstGB0LXQvCDQv9C+0LvRj9C8INGE0L7RgNC80YtcclxuICBfc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaCgoaW5wdXRFbGVtZW50KSA9PiB7XHJcbiAgICAgIGlucHV0RWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiaW5wdXRcIiwgKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuX2lzVmFsaWQoaW5wdXRFbGVtZW50KTtcclxuICAgICAgICB0aGlzLnRvZ2dsZUJ1dHRvblN0YXRlKCk7XHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICAvLyDQn9Cg0J7QktCV0KDQmtCQINCd0JAg0JLQkNCb0JjQlNCd0J7QodCi0KxcclxuICBfaXNWYWxpZChpbnB1dEVsZW1lbnQpIHtcclxuICAgIGlmICghaW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkKSB7XHJcbiAgICAgIHRoaXMuX3Nob3dJbnB1dEVycm9yKGlucHV0RWxlbWVudCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLl9oaWRlSW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpO1xyXG4gICAgfVxyXG4gIH1cclxuICAvLyDQo9CR0KDQkNCi0Kwg0KHQntCe0JHQqdCV0J3QmNCVINCe0JEg0J7QqNCY0JHQmtCVXHJcbiAgX2hpZGVJbnB1dEVycm9yKGlucHV0RWxlbWVudCkge1xyXG4gICAgY29uc3QgZXJyb3JFbGVtZW50ID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihcclxuICAgICAgYC4ke2lucHV0RWxlbWVudC5pZH0tZXJyb3JgXHJcbiAgICApO1xyXG5cclxuICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX3ZhbGlkYXRpb25Db25maWcuZXJyb3JDbGFzcyk7XHJcbiAgICBlcnJvckVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl92YWxpZGF0aW9uQ29uZmlnLmlucHV0RXJyb3JDbGFzcyk7XHJcbiAgICBlcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSBcIlwiO1xyXG4gIH1cclxuXHJcbiAgLy8g0J/QntCa0JDQl9CQ0KLQrCDQodCe0J7QkdCp0JXQndCY0JUg0J7QkSDQntCo0JjQkdCa0JVcclxuICBfc2hvd0lucHV0RXJyb3IoaW5wdXRFbGVtZW50KSB7XHJcbiAgICBjb25zdCBlcnJvckVsZW1lbnQgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKFxyXG4gICAgICBgLiR7aW5wdXRFbGVtZW50LmlkfS1lcnJvcmBcclxuICAgICk7XHJcblxyXG4gICAgY29uc3QgZXJyb3JNZXNzYWdlID0gaW5wdXRFbGVtZW50LnZhbGlkYXRpb25NZXNzYWdlO1xyXG5cclxuICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX3ZhbGlkYXRpb25Db25maWcuZXJyb3JDbGFzcyk7XHJcbiAgICBlcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSBlcnJvck1lc3NhZ2U7XHJcbiAgICBlcnJvckVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl92YWxpZGF0aW9uQ29uZmlnLmlucHV0RXJyb3JDbGFzcyk7XHJcbiAgfVxyXG4gIC8vINCh0J7QodCi0J7Qr9Cd0JjQlSDQmtCd0J7Qn9Ca0Jgg0J7QotCf0KDQkNCS0JrQmCDQpNCe0KDQnNCrXHJcbiAgdG9nZ2xlQnV0dG9uU3RhdGUoKSB7XHJcbiAgICBpZiAodGhpcy5faW5wdXRMaXN0LnNvbWUoKGlucHV0RWwpID0+ICFpbnB1dEVsLnZhbGlkaXR5LnZhbGlkKSkge1xyXG4gICAgICB0aGlzLl9zdWJtaXRCdXR0b25TZWxlY3Rvci5jbGFzc0xpc3QuYWRkKFxyXG4gICAgICAgIHRoaXMuX3ZhbGlkYXRpb25Db25maWcuaW5hY3RpdmVCdXR0b25DbGFzc1xyXG4gICAgICApO1xyXG4gICAgICB0aGlzLl9zdWJtaXRCdXR0b25TZWxlY3Rvci5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLl9zdWJtaXRCdXR0b25TZWxlY3Rvci5jbGFzc0xpc3QucmVtb3ZlKFxyXG4gICAgICAgIHRoaXMuX3ZhbGlkYXRpb25Db25maWcuaW5hY3RpdmVCdXR0b25DbGFzc1xyXG4gICAgICApO1xyXG4gICAgICB0aGlzLl9zdWJtaXRCdXR0b25TZWxlY3Rvci5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgY2xlYXJWYWxpZGF0aW9uRXJyb3JzKCkge1xyXG4gICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2godGhpcy5faGlkZUlucHV0RXJyb3IsIHRoaXMpO1xyXG4gICAgdGhpcy50b2dnbGVCdXR0b25TdGF0ZSgpO1xyXG4gIH1cclxuXHJcblxyXG4gIGVuYWJsZVZhbGlkYXRpb24oKSB7XHJcbiAgICB0aGlzLl9mb3JtRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIChldnQpID0+IHtcclxuICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICB9KTtcclxuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgfVxyXG59XHJcbiIsImV4cG9ydCBjbGFzcyBQb3B1cCB7XHJcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3Rvcikge1xyXG4gICAgdGhpcy5fcG9wdXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHBvcHVwU2VsZWN0b3IpO1xyXG4gIH1cclxuXHJcbiAgX2hhbmRsZUVzY0Nsb3NlID0gKGV2dCkgPT4ge1xyXG4gICAgaWYgKGV2dC5rZXkgPT09IFwiRXNjYXBlXCIpIHtcclxuICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIG9wZW4oKSB7XHJcbiAgICB0aGlzLl9wb3B1cC5jbGFzc0xpc3QuYWRkKFwicG9wdXBfb3BlbmVkXCIpO1xyXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleXVwXCIsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcclxuICB9XHJcblxyXG4gIGNsb3NlKCkge1xyXG4gICAgdGhpcy5fcG9wdXAuY2xhc3NMaXN0LnJlbW92ZShcInBvcHVwX29wZW5lZFwiKTtcclxuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXl1cFwiLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XHJcbiAgfVxyXG5cclxuICBzZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIHRoaXMuX3BvcHVwLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIiwgKGV2dCkgPT4ge1xyXG4gICAgICBpZiAoXHJcbiAgICAgICAgZXZ0LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoXCJwb3B1cF9fY3Jvc3NcIikgfHxcclxuICAgICAgICBldnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhcInBvcHVwXCIpXHJcbiAgICAgICkge1xyXG4gICAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCB7IFBvcHVwIH0gZnJvbSBcIi4vUG9wdXAuanNcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBQb3B1cFdpdGhGb3JtIGV4dGVuZHMgUG9wdXAge1xyXG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IsIGNhbGxiYWNrU3VibWl0Rm9ybSwgY2FsbGJhY2tPcGVuRm9ybSkge1xyXG4gICAgc3VwZXIocG9wdXBTZWxlY3Rvcik7XHJcbiAgICB0aGlzLl9mb3JtRWxlbWVudCA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoXCIuZm9ybVwiKTtcclxuICAgIHRoaXMuX2lucHV0TGlzdCA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3JBbGwoXCIuZm9ybV9fdGV4dFwiKTtcclxuICAgIHRoaXMuX2NhbGxiYWNrU3VibWl0Rm9ybSA9IGNhbGxiYWNrU3VibWl0Rm9ybTtcclxuICAgIHRoaXMuX2NhbGxiYWNrT3BlbkZvcm0gPSBjYWxsYmFja09wZW5Gb3JtO1xyXG4gICAgdGhpcy5fc3VibWl0QnV0dG9uRWxlbWVudCA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZm9ybV9fc3VibWl0LWJ0blwiKTtcclxuICAgIFxyXG4gIH1cclxuXHJcbiAgX2dldElucHV0VmFsdWVzKCkge1xyXG4gICAgY29uc3QgZGF0YSA9IHt9O1xyXG4gICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGl0ZW0pID0+IHtcclxuICAgICAgZGF0YVtpdGVtLm5hbWVdID0gaXRlbS52YWx1ZTtcclxuICAgIH0pO1xyXG4gICAgcmV0dXJuIGRhdGE7XHJcbiAgfVxyXG5cclxuICBzZXRFdmVudExpc3RlbmVycyh0ZXh0U3RyaW5nKSB7XHJcbiAgICB0aGlzLl9mb3JtRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIChldnQpID0+IHtcclxuICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgdGhpcy5fc3VibWl0QnV0dG9uRWxlbWVudC5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICB0aGlzLl9zdWJtaXRCdXR0b25FbGVtZW50LnRleHRDb250ZW50ID0gdGV4dFN0cmluZztcclxuICAgIHRoaXMuX2NhbGxiYWNrU3VibWl0Rm9ybSh0aGlzLl9nZXRJbnB1dFZhbHVlcygpKX0pO1xyXG4gICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICBcclxuICB9XHJcblxyXG4gIGNsb3NlKCkge1xyXG4gICAgdGhpcy5fZm9ybUVsZW1lbnQucmVzZXQoKTtcclxuICAgIHN1cGVyLmNsb3NlKCk7XHJcbiAgfVxyXG5cclxuICBvcGVuKCkge1xyXG4gICAgdGhpcy5fY2FsbGJhY2tPcGVuRm9ybSgpO1xyXG4gICAgc3VwZXIub3BlbigpO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgeyBQb3B1cCB9IGZyb20gXCIuL1BvcHVwLmpzXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgUG9wdXBXaXRoSW1hZ2UgZXh0ZW5kcyBQb3B1cCB7XHJcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3Rvcikge1xyXG4gICAgc3VwZXIocG9wdXBTZWxlY3Rvcik7XHJcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQgPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19pbWFnZVwiKTtcclxuICB9XHJcblxyXG4gIG9wZW4odGl0bGUsIHNyYykge1xyXG4gICAgdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9faW1hZ2VcIikuc3JjID0gc3JjO1xyXG4gICAgdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9faW1hZ2VcIikuYWx0ID0gdGl0bGU7XHJcbiAgICB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19pbWFnZS10ZXh0XCIpLnRleHRDb250ZW50ID0gdGl0bGU7XHJcblxyXG4gICAgc3VwZXIub3BlbigpO1xyXG4gIH1cclxufVxyXG4iLCJleHBvcnQgY2xhc3MgU2VjdGlvbiB7XHJcbiAgY29uc3RydWN0b3IocmVuZGVyZXIsIGNvbnRhaW5lclNlbGVjdG9yKSB7XHJcbiAgICB0aGlzLl9yZW5kZXJlciA9IHJlbmRlcmVyO1xyXG4gICAgdGhpcy5fc2VjdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoY29udGFpbmVyU2VsZWN0b3IpO1xyXG4gIH1cclxuXHJcbiAgcmVuZGVySXRlbXMoaXRlbXMpIHtcclxuICAgIGl0ZW1zLmZvckVhY2goKGVsZW1lbnQpID0+IHtcclxuICAgICAgdGhpcy5fYWRkSXRlbSh0aGlzLl9yZW5kZXJlcihlbGVtZW50KSk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIHJlbmRlckl0ZW0oaXRlbSkge1xyXG4gICAgdGhpcy5fYWRkSXRlbSh0aGlzLl9yZW5kZXJlcihpdGVtKSk7XHJcbiAgfVxyXG5cclxuICBfYWRkSXRlbShlbGVtZW50KSB7XHJcbiAgICB0aGlzLl9zZWN0aW9uLnByZXBlbmQoZWxlbWVudCk7XHJcbiAgfVxyXG5cclxuICBjbGVhclNlY3Rpb24oKSB7XHJcbiAgICB0aGlzLl9zZWN0aW9uLmlubmVySFRNTCA9ICcnO1xyXG4gIH1cclxufSIsImV4cG9ydCBjbGFzcyBVc2VySW5mbyB7XHJcbiAgY29uc3RydWN0b3IoeyBwcm9maWxlTmFtZVNlbGVjdG9yLCBwcm9maWxlQWJvdXRTZWxlY3RvciwgcHJvZmlsZUF2YXRhclNlbGVjdG9yIH0pIHtcclxuICAgIHRoaXMuX3Byb2ZpbGVOYW1lRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocHJvZmlsZU5hbWVTZWxlY3Rvcik7XHJcbiAgICB0aGlzLl9wcm9maWxlQWJvdXRFbGVtZW5ldCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocHJvZmlsZUFib3V0U2VsZWN0b3IpO1xyXG4gICAgdGhpcy5fcHJvZmlsZUF2YXRhckVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHByb2ZpbGVBdmF0YXJTZWxlY3Rvcik7XHJcbiAgICBcclxuICB9XHJcblxyXG4gIHNldFVzZXJJbmZvKHsgbmFtZSwgYWJvdXQsIGF2YXRhciwgX2lkLCBjb2hvcnQgfSkge1xyXG4gICAgdGhpcy5fbmFtZSA9IG5hbWU7XHJcbiAgICB0aGlzLl9hYm91dCA9IGFib3V0O1xyXG4gICAgdGhpcy5fYXZhdGFyID0gYXZhdGFyO1xyXG4gICAgdGhpcy5faWQgPSBfaWQ7XHJcbiAgICB0aGlzLl9jb2hvcnQgPSBjb2hvcnQ7XHJcblxyXG4gICAgdGhpcy5fcHJvZmlsZU5hbWVFbGVtZW50LnRleHRDb250ZW50ID0gdGhpcy5fbmFtZTtcclxuICAgIHRoaXMuX3Byb2ZpbGVBYm91dEVsZW1lbmV0LnRleHRDb250ZW50ID0gdGhpcy5fYWJvdXQ7XHJcbiAgICB0aGlzLl9wcm9maWxlQXZhdGFyRWxlbWVudC5zcmMgPSB0aGlzLl9hdmF0YXI7XHJcbiAgfVxyXG5cclxuICBnZXRVc2VySW5mbygpIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIHVzZXJOYW1lOiB0aGlzLl9uYW1lLFxyXG4gICAgICB1c2VyQWJvdXQ6IHRoaXMuX2Fib3V0LFxyXG4gICAgfTtcclxuICB9XHJcblxyXG4gIGdldFVzZXJJZCgpIHtcclxuICAgIHJldHVybiB0aGlzLl9pZDtcclxuICB9XHJcbn0iLCJleHBvcnQgY2xhc3MgQXBpIHtcclxuICAgIGNvbnN0cnVjdG9yKHsgdG9rZW4sIGNvaG9ydCwgc2VydmVyVXJsIH0pIHtcclxuICAgICAgdGhpcy5fdG9rZW4gPSB0b2tlbjtcclxuICAgICAgdGhpcy5fY29ob3J0ID0gY29ob3J0O1xyXG4gICAgICB0aGlzLl9zZXJ2ZXJVcmwgPSBzZXJ2ZXJVcmw7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIF9nZXRDYXJkc1VybCgpIHtcclxuICAgICAgcmV0dXJuIGAke3RoaXMuX3NlcnZlclVybH0ke3RoaXMuX2NvaG9ydH0vY2FyZHNgO1xyXG4gICAgfVxyXG4gIFxyXG4gICAgX2dldFVzZXJJbmZvVXJsKCkge1xyXG4gICAgICByZXR1cm4gYCR7dGhpcy5fc2VydmVyVXJsfSR7dGhpcy5fY29ob3J0fS91c2Vycy9tZWA7XHJcbiAgICB9XHJcbiAgXHJcbiAgICBfZ2V0QXZhdGFyVXJsKCkge1xyXG4gICAgICByZXR1cm4gYCR7dGhpcy5fc2VydmVyVXJsfSR7dGhpcy5fY29ob3J0fS91c2Vycy9tZS9hdmF0YXJgO1xyXG4gICAgfVxyXG4gIFxyXG4gICAgX2hhbmRsZXJQcm9taXNlKHJlcykge1xyXG4gICAgICBpZiAocmVzLm9rKSByZXR1cm4gcmVzLmpzb24oKTtcclxuICAgICAgZWxzZSB0aHJvdyByZXMuc3RhdHVzO1xyXG4gICAgfVxyXG4gIFxyXG4gICAgZ2V0VXNlckluZm8oKSB7XHJcbiAgICAgIHJldHVybiBmZXRjaCh0aGlzLl9nZXRVc2VySW5mb1VybCgpLCB7XHJcbiAgICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgICAgYXV0aG9yaXphdGlvbjogdGhpcy5fdG9rZW4sXHJcbiAgICAgICAgfSxcclxuICAgICAgfSkudGhlbih0aGlzLl9oYW5kbGVyUHJvbWlzZSk7XHJcbiAgICB9XHJcbiAgXHJcbiAgICBwYXRjaFVzZXJJbmZvKG5hbWUsIGFib3V0KSB7XHJcbiAgICAgIHJldHVybiBmZXRjaCh0aGlzLl9nZXRVc2VySW5mb1VybCgpLCB7XHJcbiAgICAgICAgbWV0aG9kOiBcIlBBVENIXCIsXHJcbiAgICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgICAgYXV0aG9yaXphdGlvbjogdGhpcy5fdG9rZW4sXHJcbiAgICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcclxuICAgICAgICB9LFxyXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICAgIG5hbWUsXHJcbiAgICAgICAgICBhYm91dCxcclxuICAgICAgICB9KSxcclxuICAgICAgfSkudGhlbih0aGlzLl9oYW5kbGVyUHJvbWlzZSk7XHJcbiAgICB9XHJcbiAgXHJcbiAgICBwYXRjaEF2YXRhcih1cmwpIHtcclxuICAgICAgcmV0dXJuIGZldGNoKHRoaXMuX2dldEF2YXRhclVybCgpLCB7XHJcbiAgICAgICAgbWV0aG9kOiBcIlBBVENIXCIsXHJcbiAgICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgICAgYXV0aG9yaXphdGlvbjogdGhpcy5fdG9rZW4sXHJcbiAgICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcclxuICAgICAgICB9LFxyXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgYXZhdGFyOiB1cmwgfSksXHJcbiAgICAgIH0pLnRoZW4odGhpcy5faGFuZGxlclByb21pc2UpO1xyXG4gICAgfVxyXG4gIFxyXG4gICAgZ2V0SW5pdGlhbENhcmRzKCkge1xyXG4gICAgICByZXR1cm4gZmV0Y2godGhpcy5fZ2V0Q2FyZHNVcmwoKSwge1xyXG4gICAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICAgIGF1dGhvcml6YXRpb246IHRoaXMuX3Rva2VuLFxyXG4gICAgICAgIH0sXHJcbiAgICAgIH0pLnRoZW4odGhpcy5faGFuZGxlclByb21pc2UpO1xyXG4gICAgIFxyXG4gICAgfVxyXG4gIFxyXG4gICAgcG9zdENhcmQobmFtZSwgbGluaykge1xyXG4gICAgICByZXR1cm4gZmV0Y2godGhpcy5fZ2V0Q2FyZHNVcmwoKSwge1xyXG4gICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXHJcbiAgICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgICAgYXV0aG9yaXphdGlvbjogdGhpcy5fdG9rZW4sXHJcbiAgICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcclxuICAgICAgICB9LFxyXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgbmFtZSwgbGluayB9KSxcclxuICAgICAgfSkudGhlbih0aGlzLl9oYW5kbGVyUHJvbWlzZSk7XHJcbiAgICB9XHJcbiAgXHJcbiAgICBkZWxDYXJkKGNhcmRJZCkge1xyXG4gICAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fZ2V0Q2FyZHNVcmwoKX0vJHtjYXJkSWR9YCwge1xyXG4gICAgICAgIG1ldGhvZDogJ0RFTEVURScsXHJcbiAgICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgICAgYXV0aG9yaXphdGlvbjogdGhpcy5fdG9rZW5cclxuICAgICAgICB9XHJcbiAgICAgIH0pLnRoZW4odGhpcy5faGFuZGxlclByb21pc2UpO1xyXG4gICAgfVxyXG4gIFxyXG4gICAgcHV0TGlrZShjYXJkSWQpIHtcclxuICAgICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2dldENhcmRzVXJsKCl9Ly8ke2NhcmRJZH0vbGlrZXNgLCB7XHJcbiAgICAgICAgbWV0aG9kOiAnUFVUJyxcclxuICAgICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgICBhdXRob3JpemF0aW9uOiB0aGlzLl90b2tlblxyXG4gICAgICAgIH1cclxuICAgICAgfSkudGhlbih0aGlzLl9oYW5kbGVyUHJvbWlzZSk7XHJcbiAgICB9XHJcbiAgXHJcbiAgICBkZWxldGVMaWtlKGNhcmRJZCkge1xyXG4gICAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fZ2V0Q2FyZHNVcmwoKX0vLyR7Y2FyZElkfS9saWtlc2AsIHtcclxuICAgICAgICBtZXRob2Q6ICdERUxFVEUnLFxyXG4gICAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICAgIGF1dGhvcml6YXRpb246IHRoaXMuX3Rva2VuXHJcbiAgICAgICAgfVxyXG4gICAgICB9KS50aGVuKHRoaXMuX2hhbmRsZXJQcm9taXNlKTtcclxuICAgIH1cclxuICB9IiwiaW1wb3J0IHsgUG9wdXAgfSBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFBvcHVwRGVsZXRlQ2FyZEFjY2VwdCBleHRlbmRzIFBvcHVwIHtcclxuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKSB7XHJcbiAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcclxuICAgIHRoaXMuX2Zvcm1FbGVtZW50ID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcihcIi5mb3JtXCIpO1xyXG4gICAgdGhpcy5fc3VibWl0QnV0dG9uRWxlbWVudCA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoXCIuZm9ybV9fc3VibWl0LWJ0blwiKTtcclxuICB9XHJcblxyXG4gIHNldEV2ZW50TGlzdGVuZXJzKGFjY2VwdGluZ1N0cmluZykge1xyXG4gICAgdGhpcy5fZm9ybUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCAoZXZ0KSA9PiB7XHJcbiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICB0aGlzLl9zdWJtaXRCdXR0b25FbGVtZW50LmRpc2FibGVkID0gdHJ1ZTtcclxuICAgICAgdGhpcy5fc3VibWl0QnV0dG9uRWxlbWVudC50ZXh0Q29udGVudCA9IGFjY2VwdGluZ1N0cmluZztcclxuICAgICAgdGhpcy5fY2FsbGJhY2tBY2NlcHRpbmcoKVxyXG4gICAgfSk7XHJcbiAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xyXG4gIH1cclxuXHJcblxyXG4gIHNldEFjY2VwdGluZ0NhbGxiYWNrKGNhbGxiYWNrQWNjZXB0aW5nKXtcclxuICAgIHRoaXMuX2NhbGxiYWNrQWNjZXB0aW5nID0gY2FsbGJhY2tBY2NlcHRpbmc7XHJcbn1cclxuXHJcblxyXG4gIFxyXG4gIH1cclxuIiwiXHJcblxyXG4vLyDQmtCe0J3QpNCY0JMg0KTQntCg0JzQq1xyXG5leHBvcnQgY29uc3QgdmFsaWRhdGlvbkNvbmZpZyA9IHtcclxuICBmb3JtU2VsZWN0b3I6IFwiLmZvcm1cIixcclxuICBpbnB1dFNlbGVjdG9yOiBcIi5mb3JtX190ZXh0XCIsXHJcbiAgc3VibWl0QnV0dG9uU2VsZWN0b3I6IFwiLmZvcm1fX3N1Ym1pdC1idG5cIixcclxuICBpbmFjdGl2ZUJ1dHRvbkNsYXNzOiBcImZvcm1fX3N1Ym1pdC1idG5fdHlwZV9kaXNhYmxlZFwiLFxyXG4gIGlucHV0RXJyb3JDbGFzczogXCJmb3JtX19pbnB1dC1lcnJvclwiLFxyXG4gIGVycm9yQ2xhc3M6IFwiZm9ybV9fdGV4dF90eXBlX2Vycm9yXCIsXHJcbn07XHJcblxyXG5cclxuLy8g0J3QkNCh0KLQoNCe0JnQmtCYIEFQSVxyXG5leHBvcnQgY29uc3QgYXBpQ29uZmlnID0ge1xyXG4gIHRva2VuOiBcImFmNDBhOTA1LTlkOGQtNDAyNS1iOGYwLTY2YjBiNTZmM2Q0NlwiLFxyXG4gIGNvaG9ydDogXCIvY29ob3J0LTUyXCIsXHJcbiAgc2VydmVyVXJsOiBcImh0dHBzOi8vbWVzdG8ubm9tb3JlcGFydGllcy5jby92MVwiLFxyXG59XHJcblxyXG5cclxuLy8g0J/QldCg0JXQnNCV0J3QndCr0JVcclxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblxyXG5leHBvcnQgY29uc3QgY2FyZHNDb250YWluZXIgPSBcIi5lbGVtZW50c1wiO1xyXG5leHBvcnQgY29uc3QgdGVtcGxhdGVDYXJkRGVmYXVsdFNlbGVjdG9yID0gXCIuY2FyZC10ZW1wbGF0ZV90eXBlX2RlZmF1bHRcIjtcclxuLy/Qn9Ce0J/QkNCf0KtcclxuXHJcbmV4cG9ydCBjb25zdCBwb3B1cFR5cGVQcm9maWxlU2VsZWN0b3IgPSBcIi5wb3B1cF90eXBlX3Byb2ZpbGVcIjtcclxuZXhwb3J0IGNvbnN0IHBvcHVwVHlwZVBsYWNlU2VsZWN0b3IgPSBcIi5wb3B1cF90eXBlX3BsYWNlXCI7XHJcbmV4cG9ydCBjb25zdCBwb3B1cFR5cGVJbWFnZVNlbGVjdG9yID0gXCIucG9wdXBfdHlwZV9pbWFnZVwiO1xyXG5leHBvcnQgY29uc3QgcG9wdXBUeXBlQXZhdGFyU2VsZWN0b3IgPSBcIi5wb3B1cF90eXBlX25ldy1hdmF0YXJcIlxyXG5leHBvcnQgY29uc3QgcG9wdXBEZWxDYXJkU2VsZWN0b3IgPSBcIi5wb3B1cF90eXBlX2RlbGV0ZS1jYXJkXCJcclxuXHJcblxyXG4vLyDQlNCb0K8g0J7QotCa0KDQq9Ci0JjQryDQn9Ce0J/QkNCf0J7QklxyXG5leHBvcnQgY29uc3QgcG9wdXBQcm9maWxlT3BlbkJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgXCIucHJvZmlsZV9fZWRpdC1idXR0b25cIlxyXG4pO1xyXG5leHBvcnQgY29uc3QgcG9wdXBBZGRQbGFjZUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgXCIucHJvZmlsZV9fYWRkLWJ1dHRvblwiXHJcbik7XHJcblxyXG4vLyDQlNCQ0J3QndCr0JUg0J/QoNCe0KTQmNCb0K8sINCa0J7QotCe0KDQq9CVINCS0JLQntCU0JjQoiDQn9Ce0JvQrNCX0J7QktCQ0KLQldCb0KxcclxuZXhwb3J0IGNvbnN0IG5hbWVJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZm9ybV9fdGV4dF90eXBlX25hbWVcIik7XHJcbmV4cG9ydCBjb25zdCBwcm9mZXNzaW9uSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxyXG4gIFwiLmZvcm1fX3RleHRfdHlwZV9wcm9mZXNzaW9uXCJcclxuKTtcclxuXHJcbi8vINCU0JDQndCd0KvQlSDQn9Cg0J7QpNCY0JvQr1xyXG5leHBvcnQgY29uc3QgcHJvZmlsZU5hbWVTZWxlY3RvciA9IFwiLnByb2ZpbGVfX25hbWVcIjtcclxuZXhwb3J0IGNvbnN0IHByb2ZpbGVBYm91dFNlbGVjdG9yID0gXCIucHJvZmlsZV9fc3VidGl0bGVcIjtcclxuZXhwb3J0IGNvbnN0IHByb2ZpbGVBdmF0YXJTZWxlY3RvciA9IFwiLnByb2ZpbGVfX2F2YXRhclwiXHJcbmV4cG9ydCBjb25zdCBwcm9maWxlQXZhdGFyQ29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvciAoXCIucHJvZmlsZV9faW1nLWNvbnRhaW5lclwiKTtcclxuZXhwb3J0IGNvbnN0IGlucHV0QXZhdGFyVXJsID0gXCJpbnB1dC1hdmF0YXJcIjtcclxuZXhwb3J0IGNvbnN0IGlucHV0VXNlck5hbWUgPSAnbmFtZSc7XHJcbmV4cG9ydCBjb25zdCBpbnB1dFVzZXJBYm91dCA9ICdwcm9mZXNzaW9uJztcclxuXHJcblxyXG4vLyDQpNCe0KDQnNCrXHJcbmV4cG9ydCBjb25zdCBwcm9maWxlRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZm9ybS1wcm9maWxlXCIpO1xyXG5leHBvcnQgY29uc3QgcGxhY2VGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5mb3JtLXBsYWNlXCIpO1xyXG5leHBvcnQgY29uc3QgYXZhdGFyRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZm9ybS1hdmF0YXJcIilcclxuXHJcblxyXG5cclxuXHJcbmV4cG9ydCBjb25zdCBpbnB1dENhcmRVcmwgPSBcImxpbmtcIjtcclxuZXhwb3J0IGNvbnN0IGlucHV0Q2FyZE5hbWUgPSBcInBsYWNlXCI7XHJcbiIsImltcG9ydCBcIi4vaW5kZXguY3NzXCI7XHJcblxyXG5pbXBvcnQgeyBDYXJkIH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvQ2FyZC5qc1wiO1xyXG5pbXBvcnQgeyBGb3JtVmFsaWRhdG9yIH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qc1wiO1xyXG5pbXBvcnQgeyBQb3B1cFdpdGhGb3JtIH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qc1wiO1xyXG5pbXBvcnQgeyBQb3B1cFdpdGhJbWFnZSB9IGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzXCI7XHJcbmltcG9ydCB7IFNlY3Rpb24gfSBmcm9tIFwiLi4vY29tcG9uZW50cy9TZWN0aW9uLmpzXCI7XHJcbmltcG9ydCB7IFVzZXJJbmZvIH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvVXNlckluZm8uanNcIjtcclxuaW1wb3J0IHsgQXBpIH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvQXBpLmpzXCI7XHJcbmltcG9ydCB7IFBvcHVwRGVsZXRlQ2FyZEFjY2VwdCB9IGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwRGVsZXRlQ2FyZEFjY2VwdC5qc1wiO1xyXG5pbXBvcnQge1xyXG4gIHZhbGlkYXRpb25Db25maWcsXHJcbiAgY2FyZHNDb250YWluZXIsXHJcbiAgdGVtcGxhdGVDYXJkRGVmYXVsdFNlbGVjdG9yLFxyXG4gIHBvcHVwVHlwZVByb2ZpbGVTZWxlY3RvcixcclxuICBwb3B1cFR5cGVQbGFjZVNlbGVjdG9yLFxyXG4gIHBvcHVwVHlwZUltYWdlU2VsZWN0b3IsXHJcbiAgcG9wdXBUeXBlQXZhdGFyU2VsZWN0b3IsXHJcbiAgcG9wdXBQcm9maWxlT3BlbkJ1dHRvbixcclxuICBwb3B1cEFkZFBsYWNlQnV0dG9uLFxyXG4gIHBvcHVwRGVsQ2FyZFNlbGVjdG9yLFxyXG4gIG5hbWVJbnB1dCxcclxuICBwcm9mZXNzaW9uSW5wdXQsXHJcbiAgcHJvZmlsZU5hbWVTZWxlY3RvcixcclxuICBwcm9maWxlQWJvdXRTZWxlY3RvcixcclxuICBwcm9maWxlQXZhdGFyU2VsZWN0b3IsXHJcbiAgcHJvZmlsZUZvcm0sXHJcbiAgcGxhY2VGb3JtLFxyXG4gIGF2YXRhckZvcm0sXHJcbiAgYXBpQ29uZmlnLFxyXG4gIHByb2ZpbGVBdmF0YXJDb250YWluZXIsXHJcbiAgaW5wdXRBdmF0YXJVcmwsXHJcbiAgaW5wdXRVc2VyTmFtZSxcclxuICBpbnB1dFVzZXJBYm91dCxcclxuICBpbnB1dENhcmROYW1lLFxyXG4gIGlucHV0Q2FyZFVybCxcclxufSBmcm9tIFwiLi4vdXRpbHMvY29uc3RhbnRzLmpzXCI7XHJcblxyXG5cclxuLy8g0J/RgNC+0LLQtdGA0LrQsCDRhNC+0YDQvCDQvdCwINCy0LDQu9C40LTQvdC+0YHRgtGMXHJcbmNvbnN0IGZvcm1WYWxpZFByb2ZpbGUgPSBuZXcgRm9ybVZhbGlkYXRvcih2YWxpZGF0aW9uQ29uZmlnLCBwcm9maWxlRm9ybSk7XHJcbmZvcm1WYWxpZFByb2ZpbGUuZW5hYmxlVmFsaWRhdGlvbigpO1xyXG5cclxuY29uc3QgZm9ybVZhbGlkUGxhY2UgPSBuZXcgRm9ybVZhbGlkYXRvcih2YWxpZGF0aW9uQ29uZmlnLCBwbGFjZUZvcm0pO1xyXG5mb3JtVmFsaWRQbGFjZS5lbmFibGVWYWxpZGF0aW9uKCk7XHJcblxyXG5jb25zdCBmb3JtVmFsaWRBdmF0YXJVcGRhdGUgPSBuZXcgRm9ybVZhbGlkYXRvcih2YWxpZGF0aW9uQ29uZmlnLCBhdmF0YXJGb3JtKTtcclxuZm9ybVZhbGlkQXZhdGFyVXBkYXRlLmVuYWJsZVZhbGlkYXRpb24oKTtcclxuXHJcbi8vIEFQSVxyXG5jb25zdCBhcGkgPSBuZXcgQXBpKGFwaUNvbmZpZyk7XHJcblxyXG4vLyDQmNC90YTQviDQv9GA0L7RhNC40LvRj1xyXG5jb25zdCB1c2VySW5mbyA9IG5ldyBVc2VySW5mbyh7XHJcbiAgcHJvZmlsZU5hbWVTZWxlY3RvcixcclxuICBwcm9maWxlQWJvdXRTZWxlY3RvcixcclxuICBwcm9maWxlQXZhdGFyU2VsZWN0b3IsXHJcbn0pO1xyXG5cclxuXHJcbmFwaVxyXG4gIC5nZXRVc2VySW5mbygpXHJcbiAgLnRoZW4oKGRhdGEpID0+IHtcclxuICAgIHVzZXJJbmZvLnNldFVzZXJJbmZvKGRhdGEpO1xyXG4gICAgXHJcbiAgfSlcclxuICAudGhlbigoKSA9PiB7XHJcbiAgICBhcGlcclxuICAgICAgLmdldEluaXRpYWxDYXJkcygpXHJcbiAgICAgIC50aGVuKChjYXJkcykgPT4ge1xyXG4gICAgICAgIGNhcmRTZWN0aW9uLnJlbmRlckl0ZW1zKGNhcmRzLnJldmVyc2UoKSk7XHJcbiAgICAgIH0pXHJcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcihg0JrQsNGA0YLQvtGH0LrQuCDQvdC1INC/0L7Qu9GD0YfQtdC90YsuINCa0L7QtCDQvtGI0LjQsdC60Lg6ICR7ZXJyfWApO1xyXG4gICAgICB9KTtcclxuICB9KVxyXG4gIC5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICBjb25zb2xlLmVycm9yKFxyXG4gICAgICBg0JTQsNC90L3Ri9C1INC90LUg0L/QvtC70YPRh9C10L3Riy4g0JrQvtC0INC+0YjQuNCx0LrQuDogJHtlcnJ9LCBgXHJcbiAgICApO1xyXG4gIH0pO1xyXG5cclxuICBjb25zdCBwb3B1cFVzZXJBdmF0YXIgPSBuZXcgUG9wdXBXaXRoRm9ybShcclxuICAgIHBvcHVwVHlwZUF2YXRhclNlbGVjdG9yLFxyXG4gICAgKGRhdGEpID0+IHtcclxuICAgICAgYXBpXHJcbiAgICAgICAgLnBhdGNoQXZhdGFyKGRhdGFbaW5wdXRBdmF0YXJVcmxdKVxyXG4gICAgICAgIC50aGVuKChkYXRhKSA9PiB7XHJcbiAgICAgICAgICB1c2VySW5mby5zZXRVc2VySW5mbyhkYXRhKTtcclxuICAgICAgICAgIHBvcHVwVXNlckF2YXRhci5jbG9zZSgpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYNCQ0LLQsNGC0LDRgCDQvdC1INC+0LHQvdC+0LLQu9C10L0uINCa0L7QtCDQvtGI0LjQsdC60Lg6ICR7ZXJyfSwgYCk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuZmluYWxseSgoKSA9PntcclxuICAgICAgICAgIHBvcHVwVXNlckF2YXRhci5fc3VibWl0QnV0dG9uRWxlbWVudC50ZXh0Q29udGVudCA9IFwi0KHQvtGF0YDQsNC90LjRgtGMXCI7XHJcbiAgICAgICAgICBwb3B1cFVzZXJBdmF0YXIuX3N1Ym1pdEJ1dHRvbkVsZW1lbnQuZGlzYWJsZWQgPSBmYWxzZTtcclxuICAgICAgICB9KTtcclxuICAgIH0sXHJcbiAgICAoKSA9PiB7XHJcbiAgICAgIGZvcm1WYWxpZEF2YXRhclVwZGF0ZS5jbGVhclZhbGlkYXRpb25FcnJvcnMoKTtcclxuICAgIH1cclxuICApO1xyXG4gIHBvcHVwVXNlckF2YXRhci5zZXRFdmVudExpc3RlbmVycyhcItCh0L7RhdGA0LDQvdC10L3QuNC1Li4uXCIpO1xyXG4gIFxyXG4gIHByb2ZpbGVBdmF0YXJDb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgIHBvcHVwVXNlckF2YXRhci5vcGVuKCk7XHJcbiAgfSk7XHJcblxyXG5cclxuICBjb25zdCBwb3B1cFVzZXJJbmZvID0gbmV3IFBvcHVwV2l0aEZvcm0oXHJcbiAgICBwb3B1cFR5cGVQcm9maWxlU2VsZWN0b3IsXHJcbiAgICAoZGF0YSkgPT4ge1xyXG4gICAgICBhcGlcclxuICAgICAgICAucGF0Y2hVc2VySW5mbyhkYXRhW2lucHV0VXNlck5hbWVdLCBkYXRhW2lucHV0VXNlckFib3V0XSlcclxuICAgICAgICAudGhlbigoZGF0YSkgPT4ge1xyXG4gICAgICAgICAgdXNlckluZm8uc2V0VXNlckluZm8oZGF0YSk7XHJcbiAgICAgICAgICBwb3B1cFVzZXJJbmZvLmNsb3NlKCk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgICAgICAgY29uc29sZS5lcnJvcihcclxuICAgICAgICAgICAgYNCe0YjQuNCx0LrQsCDQvtCx0L3QvtCy0LvQtdC90LjRjyDQtNCw0L3QvdGL0YUg0L/QvtC70YzQt9C+0LLQsNGC0LXQu9GPLCDQutC+0LQ6ICR7ZXJyfSwgYFxyXG4gICAgICAgICAgKTtcclxuICAgICAgfSlcclxuICAgICAgLmZpbmFsbHkoKCkgPT57XHJcbiAgICAgICAgcG9wdXBVc2VySW5mby5fc3VibWl0QnV0dG9uRWxlbWVudC50ZXh0Q29udGVudCA9IFwi0KHQvtGF0YDQsNC90LjRgtGMXCI7XHJcbiAgICAgICAgcG9wdXBVc2VySW5mby5fc3VibWl0QnV0dG9uRWxlbWVudC5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgICB9KTtcclxuICAgIH0sXHJcbiAgICAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IGluZm8gPSB1c2VySW5mby5nZXRVc2VySW5mbygpO1xyXG4gICAgICBuYW1lSW5wdXQudmFsdWUgPSBpbmZvLnVzZXJOYW1lO1xyXG4gICAgICBwcm9mZXNzaW9uSW5wdXQudmFsdWUgPSBpbmZvLnVzZXJBYm91dDtcclxuICAgICAgZm9ybVZhbGlkUHJvZmlsZS5jbGVhclZhbGlkYXRpb25FcnJvcnMoKTtcclxuICAgIH1cclxuICApO1xyXG4gIHBvcHVwVXNlckluZm8uc2V0RXZlbnRMaXN0ZW5lcnMoXCLQodC+0YXRgNCw0L3QtdC90LjQtS4uLlwiKTtcclxuICBwb3B1cFByb2ZpbGVPcGVuQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICBwb3B1cFVzZXJJbmZvLm9wZW4oKTtcclxuICB9KTtcclxuXHJcblxyXG5cclxuY29uc3QgcG9wdXBXaXRoSW1hZ2UgPSBuZXcgUG9wdXBXaXRoSW1hZ2UocG9wdXBUeXBlSW1hZ2VTZWxlY3Rvcik7XHJcbnBvcHVwV2l0aEltYWdlLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcblxyXG5jb25zdCBwb3B1cEltZyA9IG5ldyBQb3B1cFdpdGhGb3JtKFxyXG4gIHBvcHVwVHlwZVBsYWNlU2VsZWN0b3IsXHJcbiAgKGRhdGEpID0+IHtcclxuICAgIGFwaVxyXG4gICAgLnBvc3RDYXJkKGRhdGFbaW5wdXRDYXJkTmFtZV0sIGRhdGFbaW5wdXRDYXJkVXJsXSlcclxuICAgIC50aGVuKChjYXJkKSA9PiB7XHJcbiAgICAgIFxyXG4gICAgICBjYXJkU2VjdGlvbi5yZW5kZXJJdGVtKGNhcmQpO1xyXG4gICAgICBwb3B1cEltZy5jbG9zZSgpO1xyXG4gICAgfSlcclxuICAgIC5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICAgIFByb21pc2UucmVqZWN0KGDQntGI0LjQsdC60LAg0LTQvtCx0LDQstC70LXQvdC40Y8g0LrQsNGA0YLQvtGH0LrQuC4gJHtlcnJ9YCk7XHJcbiAgICB9KVxyXG4gICAgLmZpbmFsbHkoKCkgPT57XHJcbiAgICAgIHBvcHVwSW1nLl9zdWJtaXRCdXR0b25FbGVtZW50LnRleHRDb250ZW50ID0gXCLQodC+0LfQtNCw0YLRjFwiO1xyXG4gICAgICBwb3B1cEltZy5fc3VibWl0QnV0dG9uRWxlbWVudC5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgfSk7XHJcbiAgfSxcclxuICAoKSA9PiB7XHJcbiAgICBmb3JtVmFsaWRQbGFjZS5jbGVhclZhbGlkYXRpb25FcnJvcnMoKTtcclxuICB9XHJcbik7XHJcbnBvcHVwSW1nLnNldEV2ZW50TGlzdGVuZXJzKFwi0KHQvtC30LTQsNC90LjQtS4uLlwiKTtcclxucG9wdXBBZGRQbGFjZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gIHBvcHVwSW1nLm9wZW4oKTtcclxufSk7XHJcblxyXG5jb25zdCBjYXJkU2VjdGlvbiA9IG5ldyBTZWN0aW9uKChpdGVtKSA9PiB7XHJcbiAgY29uc3QgbmV3Q2FyZCA9IG5ldyBDYXJkKFxyXG4gICAgaXRlbSxcclxuICAgIHVzZXJJbmZvLmdldFVzZXJJZCgpLFxyXG4gICAgdGVtcGxhdGVDYXJkRGVmYXVsdFNlbGVjdG9yLFxyXG4gICAgKCkgPT4ge1xyXG4gICAgICBwb3B1cFdpdGhJbWFnZS5vcGVuKGl0ZW0ubmFtZSwgaXRlbS5saW5rKTtcclxuICAgIH0sXHJcbiAgICAoY2FyZCkgPT4ge1xyXG4gICAgICBwb3B1cERlbENhcmQub3BlbigpO1xyXG4gICAgICBwb3B1cERlbENhcmQuc2V0QWNjZXB0aW5nQ2FsbGJhY2soXHJcbiAgICAgICgpID0+IHtcclxuICAgICAgICBhcGlcclxuICAgICAgICAgIC5kZWxDYXJkKGNhcmQuX2lkKVxyXG4gICAgICAgICAgLnRoZW4oKCkgPT4ge1xyXG4gICAgICAgICAgICBjYXJkLmRlbGV0ZUNhcmQoY2FyZC5fY2FyZCk7XHJcbiAgICAgICAgICAgIHBvcHVwRGVsQ2FyZC5jbG9zZSgpO1xyXG4gICAgICAgICAgfSlcclxuICAgICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICAgICAgICAgIFByb21pc2UucmVqZWN0KGAke2Vycn0g0J7RiNC40LHQutCwINGD0LTQsNC70LXQvdC40Y8g0LrQsNGA0YLQvtGH0LrQuC5gKTtcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgICAuZmluYWxseSgoKSA9PiB7XHJcbiAgICAgICAgICAgIHBvcHVwRGVsQ2FyZC5fc3VibWl0QnV0dG9uRWxlbWVudC50ZXh0Q29udGVudCA9IFwi0JTQsFwiO1xyXG4gICAgICAgICAgICBwb3B1cERlbENhcmQuX3N1Ym1pdEJ1dHRvbkVsZW1lbnQuZGlzYWJsZWQgPSBmYWxzZTtcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgKVxyXG4gICAgfSxcclxuICAgIChjYXJkSWQsIGlzTGlrZWQpID0+IHtcclxuICAgICAgaWYgKGlzTGlrZWQpIHtcclxuICAgICAgICBhcGkuZGVsZXRlTGlrZShjYXJkSWQpXHJcbiAgICAgICAgLnRoZW4oKGNhcmQpID0+IHtcclxuICAgICAgICAgIG5ld0NhcmQuc2V0TGlrZShjYXJkLmxpa2VzKTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICAgICAgICBQcm9taXNlLnJlamVjdChgJHtlcnJ9INCe0YjQuNCx0LrQsCDRg9C00LDQu9C10L3QuNGPINC70LDQudC60LAuYCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgYXBpLnB1dExpa2UoY2FyZElkKVxyXG4gICAgICAgIC50aGVuKFxyXG4gICAgICAgICAgKGNhcmQpID0+IHtcclxuICAgICAgICAgICAgbmV3Q2FyZC5zZXRMaWtlKGNhcmQubGlrZXMpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIClcclxuICAgICAgICAuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgICAgICAgUHJvbWlzZS5yZWplY3QoYCR7ZXJyfSDQntGI0LjQsdC60LAg0L/QvtGB0YLQsNC90L7QstC60Lgg0LvQsNC50LrQsC5gKTtcclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICk7XHJcbiAgcmV0dXJuIG5ld0NhcmQuY3JlYXRlQ2FyZCgpO1xyXG59LCBjYXJkc0NvbnRhaW5lcik7XHJcblxyXG5cclxuY29uc3QgcG9wdXBEZWxDYXJkID0gbmV3IFBvcHVwRGVsZXRlQ2FyZEFjY2VwdChwb3B1cERlbENhcmRTZWxlY3Rvcik7XHJcbnBvcHVwRGVsQ2FyZC5zZXRFdmVudExpc3RlbmVycyhcItCj0LTQsNC70LXQvdC40LUuLi5cIik7XHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuIl0sIm5hbWVzIjpbIkNhcmQiLCJ1c2VySWQiLCJ0ZW1wbGF0ZUNhcmREZWZhdWx0U2VsZWN0b3IiLCJvcGVuUG9wdXBJbWFnZSIsImhhbmRsZVRyYXNoQ2xpY2siLCJoYW5kbGVMaWtlQ2xpY2siLCJuYW1lIiwibGluayIsIm93bmVyIiwiX2lkIiwibGlrZXMiLCJ0aGlzIiwiX3RpdGxlIiwiX3NyYyIsIl9saWtlcyIsIl91c2VySWQiLCJfaXNPd25lciIsIl9vcGVuUG9wdXBJbWFnZSIsIl90ZW1wbGF0ZUNhcmREZWZhdWx0U2VsZWN0b3IiLCJfaGFuZGxlVHJhc2hDbGljayIsIl9oYW5kbGVMaWtlQ2xpY2siLCJfc2V0dGluZ3MiLCJjYXJkU2VsZWN0b3IiLCJsaWtlU2VsZWN0b3IiLCJsaWtlTnVtYmVyU2VsZWN0b3IiLCJsaWtlQWN0aXZlQ2xhc3MiLCJ0aXRsZVNlbGVjdG9yIiwiaW1nU2VsZWN0b3IiLCJkZWxCdG5TZWxlY3RvciIsIl9jYXJkIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiY29udGVudCIsImNsb25lTm9kZSIsIl90aXRsZUVsIiwiX2ltZ0VsIiwiX2xpa2VCdG5FbCIsIl9saWtlTnVtYmVyRWwiLCJfZGVsQnRuRWwiLCJfZ2VuZXJhdGVDYXJkIiwiX3NldEV2ZW50c0xpc3RlbmVycyIsInRleHRDb250ZW50Iiwic3JjIiwiYWx0IiwiaW5uZXJUZXh0IiwibGVuZ3RoIiwicmVtb3ZlIiwiX3JlbmRlckxpa2UiLCJhZGRFdmVudExpc3RlbmVyIiwiX2lzTGlrZWQiLCJfaW1nU3JjIiwic29tZSIsImVsIiwiY2xhc3NMaXN0IiwiYWRkIiwiY2FyZCIsIkZvcm1WYWxpZGF0b3IiLCJ2YWxpZGF0aW9uQ29uZmlnIiwiZm9ybUVsZW1lbnQiLCJfdmFsaWRhdGlvbkNvbmZpZyIsIl9mb3JtRWxlbWVudCIsIl9pbnB1dExpc3QiLCJBcnJheSIsImZyb20iLCJxdWVyeVNlbGVjdG9yQWxsIiwiaW5wdXRTZWxlY3RvciIsIl9zdWJtaXRCdXR0b25TZWxlY3RvciIsInN1Ym1pdEJ1dHRvblNlbGVjdG9yIiwiZm9yRWFjaCIsImlucHV0RWxlbWVudCIsIl9pc1ZhbGlkIiwidG9nZ2xlQnV0dG9uU3RhdGUiLCJ2YWxpZGl0eSIsInZhbGlkIiwiX2hpZGVJbnB1dEVycm9yIiwiX3Nob3dJbnB1dEVycm9yIiwiZXJyb3JFbGVtZW50IiwiaWQiLCJlcnJvckNsYXNzIiwiaW5wdXRFcnJvckNsYXNzIiwiZXJyb3JNZXNzYWdlIiwidmFsaWRhdGlvbk1lc3NhZ2UiLCJpbnB1dEVsIiwiaW5hY3RpdmVCdXR0b25DbGFzcyIsImRpc2FibGVkIiwiZXZ0IiwicHJldmVudERlZmF1bHQiLCJfc2V0RXZlbnRMaXN0ZW5lcnMiLCJQb3B1cCIsInBvcHVwU2VsZWN0b3IiLCJrZXkiLCJjbG9zZSIsIl9wb3B1cCIsIl9oYW5kbGVFc2NDbG9zZSIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJ0YXJnZXQiLCJjb250YWlucyIsIlBvcHVwV2l0aEZvcm0iLCJjYWxsYmFja1N1Ym1pdEZvcm0iLCJjYWxsYmFja09wZW5Gb3JtIiwiX2NhbGxiYWNrU3VibWl0Rm9ybSIsIl9jYWxsYmFja09wZW5Gb3JtIiwiX3N1Ym1pdEJ1dHRvbkVsZW1lbnQiLCJkYXRhIiwiaXRlbSIsInZhbHVlIiwidGV4dFN0cmluZyIsIl9nZXRJbnB1dFZhbHVlcyIsInJlc2V0IiwiUG9wdXBXaXRoSW1hZ2UiLCJfcG9wdXBFbGVtZW50IiwidGl0bGUiLCJTZWN0aW9uIiwicmVuZGVyZXIiLCJjb250YWluZXJTZWxlY3RvciIsIl9yZW5kZXJlciIsIl9zZWN0aW9uIiwiaXRlbXMiLCJlbGVtZW50IiwiX2FkZEl0ZW0iLCJwcmVwZW5kIiwiaW5uZXJIVE1MIiwiVXNlckluZm8iLCJwcm9maWxlTmFtZVNlbGVjdG9yIiwicHJvZmlsZUFib3V0U2VsZWN0b3IiLCJwcm9maWxlQXZhdGFyU2VsZWN0b3IiLCJfcHJvZmlsZU5hbWVFbGVtZW50IiwiX3Byb2ZpbGVBYm91dEVsZW1lbmV0IiwiX3Byb2ZpbGVBdmF0YXJFbGVtZW50IiwiYWJvdXQiLCJhdmF0YXIiLCJjb2hvcnQiLCJfbmFtZSIsIl9hYm91dCIsIl9hdmF0YXIiLCJfY29ob3J0IiwidXNlck5hbWUiLCJ1c2VyQWJvdXQiLCJBcGkiLCJ0b2tlbiIsInNlcnZlclVybCIsIl90b2tlbiIsIl9zZXJ2ZXJVcmwiLCJyZXMiLCJvayIsImpzb24iLCJzdGF0dXMiLCJmZXRjaCIsIl9nZXRVc2VySW5mb1VybCIsImhlYWRlcnMiLCJhdXRob3JpemF0aW9uIiwidGhlbiIsIl9oYW5kbGVyUHJvbWlzZSIsIm1ldGhvZCIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwidXJsIiwiX2dldEF2YXRhclVybCIsIl9nZXRDYXJkc1VybCIsImNhcmRJZCIsIlBvcHVwRGVsZXRlQ2FyZEFjY2VwdCIsImFjY2VwdGluZ1N0cmluZyIsIl9jYWxsYmFja0FjY2VwdGluZyIsImNhbGxiYWNrQWNjZXB0aW5nIiwiZm9ybVNlbGVjdG9yIiwicG9wdXBQcm9maWxlT3BlbkJ1dHRvbiIsInBvcHVwQWRkUGxhY2VCdXR0b24iLCJuYW1lSW5wdXQiLCJwcm9mZXNzaW9uSW5wdXQiLCJwcm9maWxlQXZhdGFyQ29udGFpbmVyIiwicHJvZmlsZUZvcm0iLCJwbGFjZUZvcm0iLCJhdmF0YXJGb3JtIiwiZm9ybVZhbGlkUHJvZmlsZSIsImVuYWJsZVZhbGlkYXRpb24iLCJmb3JtVmFsaWRQbGFjZSIsImZvcm1WYWxpZEF2YXRhclVwZGF0ZSIsImFwaSIsInVzZXJJbmZvIiwiZ2V0VXNlckluZm8iLCJzZXRVc2VySW5mbyIsImdldEluaXRpYWxDYXJkcyIsImNhcmRzIiwiY2FyZFNlY3Rpb24iLCJyZW5kZXJJdGVtcyIsInJldmVyc2UiLCJjYXRjaCIsImVyciIsImNvbnNvbGUiLCJlcnJvciIsInBvcHVwVXNlckF2YXRhciIsInBhdGNoQXZhdGFyIiwiZmluYWxseSIsImNsZWFyVmFsaWRhdGlvbkVycm9ycyIsInNldEV2ZW50TGlzdGVuZXJzIiwib3BlbiIsInBvcHVwVXNlckluZm8iLCJwYXRjaFVzZXJJbmZvIiwiaW5mbyIsInBvcHVwV2l0aEltYWdlIiwicG9wdXBJbWciLCJwb3N0Q2FyZCIsInJlbmRlckl0ZW0iLCJQcm9taXNlIiwicmVqZWN0IiwibmV3Q2FyZCIsImdldFVzZXJJZCIsInBvcHVwRGVsQ2FyZCIsInNldEFjY2VwdGluZ0NhbGxiYWNrIiwiZGVsQ2FyZCIsImRlbGV0ZUNhcmQiLCJpc0xpa2VkIiwiZGVsZXRlTGlrZSIsInNldExpa2UiLCJwdXRMaWtlIiwiY3JlYXRlQ2FyZCJdLCJzb3VyY2VSb290IjoiIn0=